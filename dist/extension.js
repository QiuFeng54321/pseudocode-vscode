"use strict";var fc=Object.create;var qn=Object.defineProperty;var hc=Object.getOwnPropertyDescriptor;var pc=Object.getOwnPropertyNames;var gc=Object.getPrototypeOf,mc=Object.prototype.hasOwnProperty;var L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),vc=(t,e)=>{for(var n in e)qn(t,n,{get:e[n],enumerable:!0})},mo=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of pc(e))!mc.call(t,i)&&i!==n&&qn(t,i,{get:()=>e[i],enumerable:!(r=hc(e,i))||r.enumerable});return t};var mr=(t,e,n)=>(n=t!=null?fc(gc(t)):{},mo(e||!t||!t.__esModule?qn(n,"default",{value:t,enumerable:!0}):n,t)),yc=t=>mo(qn({},"__esModule",{value:!0}),t);var wo=L((U,_o)=>{U=_o.exports=B;var ie;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ie=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:ie=function(){};U.SEMVER_SPEC_VERSION="2.0.0";var yr=256,In=Number.MAX_SAFE_INTEGER||9007199254740991,vr=16,ne=U.re=[],D=U.src=[],w=U.tokens={},Co=0;function ee(t){w[t]=Co++}ee("NUMERICIDENTIFIER");D[w.NUMERICIDENTIFIER]="0|[1-9]\\d*";ee("NUMERICIDENTIFIERLOOSE");D[w.NUMERICIDENTIFIERLOOSE]="[0-9]+";ee("NONNUMERICIDENTIFIER");D[w.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";ee("MAINVERSION");D[w.MAINVERSION]="("+D[w.NUMERICIDENTIFIER]+")\\.("+D[w.NUMERICIDENTIFIER]+")\\.("+D[w.NUMERICIDENTIFIER]+")";ee("MAINVERSIONLOOSE");D[w.MAINVERSIONLOOSE]="("+D[w.NUMERICIDENTIFIERLOOSE]+")\\.("+D[w.NUMERICIDENTIFIERLOOSE]+")\\.("+D[w.NUMERICIDENTIFIERLOOSE]+")";ee("PRERELEASEIDENTIFIER");D[w.PRERELEASEIDENTIFIER]="(?:"+D[w.NUMERICIDENTIFIER]+"|"+D[w.NONNUMERICIDENTIFIER]+")";ee("PRERELEASEIDENTIFIERLOOSE");D[w.PRERELEASEIDENTIFIERLOOSE]="(?:"+D[w.NUMERICIDENTIFIERLOOSE]+"|"+D[w.NONNUMERICIDENTIFIER]+")";ee("PRERELEASE");D[w.PRERELEASE]="(?:-("+D[w.PRERELEASEIDENTIFIER]+"(?:\\."+D[w.PRERELEASEIDENTIFIER]+")*))";ee("PRERELEASELOOSE");D[w.PRERELEASELOOSE]="(?:-?("+D[w.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+D[w.PRERELEASEIDENTIFIERLOOSE]+")*))";ee("BUILDIDENTIFIER");D[w.BUILDIDENTIFIER]="[0-9A-Za-z-]+";ee("BUILD");D[w.BUILD]="(?:\\+("+D[w.BUILDIDENTIFIER]+"(?:\\."+D[w.BUILDIDENTIFIER]+")*))";ee("FULL");ee("FULLPLAIN");D[w.FULLPLAIN]="v?"+D[w.MAINVERSION]+D[w.PRERELEASE]+"?"+D[w.BUILD]+"?";D[w.FULL]="^"+D[w.FULLPLAIN]+"$";ee("LOOSEPLAIN");D[w.LOOSEPLAIN]="[v=\\s]*"+D[w.MAINVERSIONLOOSE]+D[w.PRERELEASELOOSE]+"?"+D[w.BUILD]+"?";ee("LOOSE");D[w.LOOSE]="^"+D[w.LOOSEPLAIN]+"$";ee("GTLT");D[w.GTLT]="((?:<|>)?=?)";ee("XRANGEIDENTIFIERLOOSE");D[w.XRANGEIDENTIFIERLOOSE]=D[w.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*";ee("XRANGEIDENTIFIER");D[w.XRANGEIDENTIFIER]=D[w.NUMERICIDENTIFIER]+"|x|X|\\*";ee("XRANGEPLAIN");D[w.XRANGEPLAIN]="[v=\\s]*("+D[w.XRANGEIDENTIFIER]+")(?:\\.("+D[w.XRANGEIDENTIFIER]+")(?:\\.("+D[w.XRANGEIDENTIFIER]+")(?:"+D[w.PRERELEASE]+")?"+D[w.BUILD]+"?)?)?";ee("XRANGEPLAINLOOSE");D[w.XRANGEPLAINLOOSE]="[v=\\s]*("+D[w.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+D[w.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+D[w.XRANGEIDENTIFIERLOOSE]+")(?:"+D[w.PRERELEASELOOSE]+")?"+D[w.BUILD]+"?)?)?";ee("XRANGE");D[w.XRANGE]="^"+D[w.GTLT]+"\\s*"+D[w.XRANGEPLAIN]+"$";ee("XRANGELOOSE");D[w.XRANGELOOSE]="^"+D[w.GTLT]+"\\s*"+D[w.XRANGEPLAINLOOSE]+"$";ee("COERCE");D[w.COERCE]="(^|[^\\d])(\\d{1,"+vr+"})(?:\\.(\\d{1,"+vr+"}))?(?:\\.(\\d{1,"+vr+"}))?(?:$|[^\\d])";ee("COERCERTL");ne[w.COERCERTL]=new RegExp(D[w.COERCE],"g");ee("LONETILDE");D[w.LONETILDE]="(?:~>?)";ee("TILDETRIM");D[w.TILDETRIM]="(\\s*)"+D[w.LONETILDE]+"\\s+";ne[w.TILDETRIM]=new RegExp(D[w.TILDETRIM],"g");var Cc="$1~";ee("TILDE");D[w.TILDE]="^"+D[w.LONETILDE]+D[w.XRANGEPLAIN]+"$";ee("TILDELOOSE");D[w.TILDELOOSE]="^"+D[w.LONETILDE]+D[w.XRANGEPLAINLOOSE]+"$";ee("LONECARET");D[w.LONECARET]="(?:\\^)";ee("CARETTRIM");D[w.CARETTRIM]="(\\s*)"+D[w.LONECARET]+"\\s+";ne[w.CARETTRIM]=new RegExp(D[w.CARETTRIM],"g");var Rc="$1^";ee("CARET");D[w.CARET]="^"+D[w.LONECARET]+D[w.XRANGEPLAIN]+"$";ee("CARETLOOSE");D[w.CARETLOOSE]="^"+D[w.LONECARET]+D[w.XRANGEPLAINLOOSE]+"$";ee("COMPARATORLOOSE");D[w.COMPARATORLOOSE]="^"+D[w.GTLT]+"\\s*("+D[w.LOOSEPLAIN]+")$|^$";ee("COMPARATOR");D[w.COMPARATOR]="^"+D[w.GTLT]+"\\s*("+D[w.FULLPLAIN]+")$|^$";ee("COMPARATORTRIM");D[w.COMPARATORTRIM]="(\\s*)"+D[w.GTLT]+"\\s*("+D[w.LOOSEPLAIN]+"|"+D[w.XRANGEPLAIN]+")";ne[w.COMPARATORTRIM]=new RegExp(D[w.COMPARATORTRIM],"g");var _c="$1$2$3";ee("HYPHENRANGE");D[w.HYPHENRANGE]="^\\s*("+D[w.XRANGEPLAIN]+")\\s+-\\s+("+D[w.XRANGEPLAIN]+")\\s*$";ee("HYPHENRANGELOOSE");D[w.HYPHENRANGELOOSE]="^\\s*("+D[w.XRANGEPLAINLOOSE]+")\\s+-\\s+("+D[w.XRANGEPLAINLOOSE]+")\\s*$";ee("STAR");D[w.STAR]="(<|>)?=?\\s*\\*";for(wt=0;wt<Co;wt++)ie(wt,D[wt]),ne[wt]||(ne[wt]=new RegExp(D[wt]));var wt;U.parse=At;function At(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof B)return t;if(typeof t!="string"||t.length>yr)return null;var n=e.loose?ne[w.LOOSE]:ne[w.FULL];if(!n.test(t))return null;try{return new B(t,e)}catch{return null}}U.valid=wc;function wc(t,e){var n=At(t,e);return n?n.version:null}U.clean=Tc;function Tc(t,e){var n=At(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}U.SemVer=B;function B(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof B){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>yr)throw new TypeError("version is longer than "+yr+" characters");if(!(this instanceof B))return new B(t,e);ie("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?ne[w.LOOSE]:ne[w.FULL]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>In||this.major<0)throw new TypeError("Invalid major version");if(this.minor>In||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>In||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<In)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}B.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};B.prototype.toString=function(){return this.version};B.prototype.compare=function(t){return ie("SemVer.compare",this.version,this.options,t),t instanceof B||(t=new B(t,this.options)),this.compareMain(t)||this.comparePre(t)};B.prototype.compareMain=function(t){return t instanceof B||(t=new B(t,this.options)),Ft(this.major,t.major)||Ft(this.minor,t.minor)||Ft(this.patch,t.patch)};B.prototype.comparePre=function(t){if(t instanceof B||(t=new B(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(ie("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Ft(n,r)}while(++e)};B.prototype.compareBuild=function(t){t instanceof B||(t=new B(t,this.options));var e=0;do{var n=this.build[e],r=t.build[e];if(ie("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Ft(n,r)}while(++e)};B.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};U.inc=Sc;function Sc(t,e,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new B(t,n).inc(e,r).version}catch{return null}}U.diff=Ec;function Ec(t,e){if(Cr(t,e))return null;var n=At(t),r=At(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var s="prerelease"}for(var u in n)if((u==="major"||u==="minor"||u==="patch")&&n[u]!==r[u])return i+u;return s}U.compareIdentifiers=Ft;var vo=/^[0-9]+$/;function Ft(t,e){var n=vo.test(t),r=vo.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}U.rcompareIdentifiers=Pc;function Pc(t,e){return Ft(e,t)}U.major=Dc;function Dc(t,e){return new B(t,e).major}U.minor=bc;function bc(t,e){return new B(t,e).minor}U.patch=Oc;function Oc(t,e){return new B(t,e).patch}U.compare=lt;function lt(t,e,n){return new B(t,n).compare(new B(e,n))}U.compareLoose=kc;function kc(t,e){return lt(t,e,!0)}U.compareBuild=xc;function xc(t,e,n){var r=new B(t,n),i=new B(e,n);return r.compare(i)||r.compareBuild(i)}U.rcompare=qc;function qc(t,e,n){return lt(e,t,n)}U.sort=Ic;function Ic(t,e){return t.sort(function(n,r){return U.compareBuild(n,r,e)})}U.rsort=Nc;function Nc(t,e){return t.sort(function(n,r){return U.compareBuild(r,n,e)})}U.gt=gn;function gn(t,e,n){return lt(t,e,n)>0}U.lt=Nn;function Nn(t,e,n){return lt(t,e,n)<0}U.eq=Cr;function Cr(t,e,n){return lt(t,e,n)===0}U.neq=Ro;function Ro(t,e,n){return lt(t,e,n)!==0}U.gte=Rr;function Rr(t,e,n){return lt(t,e,n)>=0}U.lte=_r;function _r(t,e,n){return lt(t,e,n)<=0}U.cmp=Ln;function Ln(t,e,n,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Cr(t,n,r);case"!=":return Ro(t,n,r);case">":return gn(t,n,r);case">=":return Rr(t,n,r);case"<":return Nn(t,n,r);case"<=":return _r(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}U.Comparator=$e;function $e(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof $e){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof $e))return new $e(t,e);ie("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===Jt?this.value="":this.value=this.operator+this.semver.version,ie("comp",this)}var Jt={};$e.prototype.parse=function(t){var e=this.options.loose?ne[w.COMPARATORLOOSE]:ne[w.COMPARATOR],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new B(n[2],this.options.loose):this.semver=Jt};$e.prototype.toString=function(){return this.value};$e.prototype.test=function(t){if(ie("Comparator.test",t,this.options.loose),this.semver===Jt||t===Jt)return!0;if(typeof t=="string")try{t=new B(t,this.options)}catch{return!1}return Ln(t,this.operator,this.semver,this.options)};$e.prototype.intersects=function(t,e){if(!(t instanceof $e))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var n;if(this.operator==="")return this.value===""?!0:(n=new de(t.value,e),Fn(this.value,n,e));if(t.operator==="")return t.value===""?!0:(n=new de(this.value,e),Fn(t.semver,n,e));var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),s=this.semver.version===t.semver.version,u=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),p=Ln(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),f=Ln(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||s&&u||p||f};U.Range=de;function de(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof de)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new de(t.raw,e);if(t instanceof $e)return new de(t.value,e);if(!(this instanceof de))return new de(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}de.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};de.prototype.toString=function(){return this.range};de.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?ne[w.HYPHENRANGELOOSE]:ne[w.HYPHENRANGE];t=t.replace(n,$c),ie("hyphen replace",t),t=t.replace(ne[w.COMPARATORTRIM],_c),ie("comparator trim",t,ne[w.COMPARATORTRIM]),t=t.replace(ne[w.TILDETRIM],Cc),t=t.replace(ne[w.CARETTRIM],Rc),t=t.split(/\s+/).join(" ");var r=e?ne[w.COMPARATORLOOSE]:ne[w.COMPARATOR],i=t.split(" ").map(function(s){return Fc(s,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(s){return!!s.match(r)})),i=i.map(function(s){return new $e(s,this.options)},this),i};de.prototype.intersects=function(t,e){if(!(t instanceof de))throw new TypeError("a Range is required");return this.set.some(function(n){return yo(n,e)&&t.set.some(function(r){return yo(r,e)&&n.every(function(i){return r.every(function(s){return i.intersects(s,e)})})})})};function yo(t,e){for(var n=!0,r=t.slice(),i=r.pop();n&&r.length;)n=r.every(function(s){return i.intersects(s,e)}),i=r.pop();return n}U.toComparators=Lc;function Lc(t,e){return new de(t,e).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function Fc(t,e){return ie("comp",t,e),t=jc(t,e),ie("caret",t),t=Ac(t,e),ie("tildes",t),t=Wc(t,e),ie("xrange",t),t=zc(t,e),ie("stars",t),t}function ke(t){return!t||t.toLowerCase()==="x"||t==="*"}function Ac(t,e){return t.trim().split(/\s+/).map(function(n){return Mc(n,e)}).join(" ")}function Mc(t,e){var n=e.loose?ne[w.TILDELOOSE]:ne[w.TILDE];return t.replace(n,function(r,i,s,u,p){ie("tilde",t,r,i,s,u,p);var f;return ke(i)?f="":ke(s)?f=">="+i+".0.0 <"+(+i+1)+".0.0":ke(u)?f=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":p?(ie("replaceTilde pr",p),f=">="+i+"."+s+"."+u+"-"+p+" <"+i+"."+(+s+1)+".0"):f=">="+i+"."+s+"."+u+" <"+i+"."+(+s+1)+".0",ie("tilde return",f),f})}function jc(t,e){return t.trim().split(/\s+/).map(function(n){return Hc(n,e)}).join(" ")}function Hc(t,e){ie("caret",t,e);var n=e.loose?ne[w.CARETLOOSE]:ne[w.CARET];return t.replace(n,function(r,i,s,u,p){ie("caret",t,r,i,s,u,p);var f;return ke(i)?f="":ke(s)?f=">="+i+".0.0 <"+(+i+1)+".0.0":ke(u)?i==="0"?f=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":f=">="+i+"."+s+".0 <"+(+i+1)+".0.0":p?(ie("replaceCaret pr",p),i==="0"?s==="0"?f=">="+i+"."+s+"."+u+"-"+p+" <"+i+"."+s+"."+(+u+1):f=">="+i+"."+s+"."+u+"-"+p+" <"+i+"."+(+s+1)+".0":f=">="+i+"."+s+"."+u+"-"+p+" <"+(+i+1)+".0.0"):(ie("no pr"),i==="0"?s==="0"?f=">="+i+"."+s+"."+u+" <"+i+"."+s+"."+(+u+1):f=">="+i+"."+s+"."+u+" <"+i+"."+(+s+1)+".0":f=">="+i+"."+s+"."+u+" <"+(+i+1)+".0.0"),ie("caret return",f),f})}function Wc(t,e){return ie("replaceXRanges",t,e),t.split(/\s+/).map(function(n){return Kc(n,e)}).join(" ")}function Kc(t,e){t=t.trim();var n=e.loose?ne[w.XRANGELOOSE]:ne[w.XRANGE];return t.replace(n,function(r,i,s,u,p,f){ie("xRange",t,r,i,s,u,p,f);var m=ke(s),R=m||ke(u),y=R||ke(p),P=y;return i==="="&&P&&(i=""),f=e.includePrerelease?"-0":"",m?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&P?(R&&(u=0),p=0,i===">"?(i=">=",R?(s=+s+1,u=0,p=0):(u=+u+1,p=0)):i==="<="&&(i="<",R?s=+s+1:u=+u+1),r=i+s+"."+u+"."+p+f):R?r=">="+s+".0.0"+f+" <"+(+s+1)+".0.0"+f:y&&(r=">="+s+"."+u+".0"+f+" <"+s+"."+(+u+1)+".0"+f),ie("xRange return",r),r})}function zc(t,e){return ie("replaceStars",t,e),t.trim().replace(ne[w.STAR],"")}function $c(t,e,n,r,i,s,u,p,f,m,R,y,P){return ke(n)?e="":ke(r)?e=">="+n+".0.0":ke(i)?e=">="+n+"."+r+".0":e=">="+e,ke(f)?p="":ke(m)?p="<"+(+f+1)+".0.0":ke(R)?p="<"+f+"."+(+m+1)+".0":y?p="<="+f+"."+m+"."+R+"-"+y:p="<="+p,(e+" "+p).trim()}de.prototype.test=function(t){if(!t)return!1;if(typeof t=="string")try{t=new B(t,this.options)}catch{return!1}for(var e=0;e<this.set.length;e++)if(Uc(this.set[e],t,this.options))return!0;return!1};function Uc(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(ie(t[r].semver),t[r].semver!==Jt&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}U.satisfies=Fn;function Fn(t,e,n){try{e=new de(e,n)}catch{return!1}return e.test(t)}U.maxSatisfying=Gc;function Gc(t,e,n){var r=null,i=null;try{var s=new de(e,n)}catch{return null}return t.forEach(function(u){s.test(u)&&(!r||i.compare(u)===-1)&&(r=u,i=new B(r,n))}),r}U.minSatisfying=Xc;function Xc(t,e,n){var r=null,i=null;try{var s=new de(e,n)}catch{return null}return t.forEach(function(u){s.test(u)&&(!r||i.compare(u)===1)&&(r=u,i=new B(r,n))}),r}U.minVersion=Bc;function Bc(t,e){t=new de(t,e);var n=new B("0.0.0");if(t.test(n)||(n=new B("0.0.0-0"),t.test(n)))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(s){var u=new B(s.semver.version);switch(s.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!n||gn(n,u))&&(n=u);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+s.operator)}})}return n&&t.test(n)?n:null}U.validRange=Jc;function Jc(t,e){try{return new de(t,e).range||"*"}catch{return null}}U.ltr=Vc;function Vc(t,e,n){return wr(t,e,"<",n)}U.gtr=Qc;function Qc(t,e,n){return wr(t,e,">",n)}U.outside=wr;function wr(t,e,n,r){t=new B(t,r),e=new de(e,r);var i,s,u,p,f;switch(n){case">":i=gn,s=_r,u=Nn,p=">",f=">=";break;case"<":i=Nn,s=Rr,u=gn,p="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Fn(t,e,r))return!1;for(var m=0;m<e.set.length;++m){var R=e.set[m],y=null,P=null;if(R.forEach(function(k){k.semver===Jt&&(k=new $e(">=0.0.0")),y=y||k,P=P||k,i(k.semver,y.semver,r)?y=k:u(k.semver,P.semver,r)&&(P=k)}),y.operator===p||y.operator===f||(!P.operator||P.operator===p)&&s(t,P.semver))return!1;if(P.operator===f&&u(t,P.semver))return!1}return!0}U.prerelease=Yc;function Yc(t,e){var n=At(t,e);return n&&n.prerelease.length?n.prerelease:null}U.intersects=Zc;function Zc(t,e,n){return t=new de(t,n),e=new de(e,n),t.intersects(e)}U.coerce=eu;function eu(t,e){if(t instanceof B)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};var n=null;if(!e.rtl)n=t.match(ne[w.COERCE]);else{for(var r;(r=ne[w.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),ne[w.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;ne[w.COERCERTL].lastIndex=-1}return n===null?null:At(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),e)}});var Vt=L(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});function tu(t){return t===!0||t===!1}Ue.boolean=tu;function To(t){return typeof t=="string"||t instanceof String}Ue.string=To;function nu(t){return typeof t=="number"||t instanceof Number}Ue.number=nu;function ru(t){return t instanceof Error}Ue.error=ru;function So(t){return typeof t=="function"}Ue.func=So;function Eo(t){return Array.isArray(t)}Ue.array=Eo;function iu(t){return Eo(t)&&t.every(e=>To(e))}Ue.stringArray=iu;function su(t,e){return Array.isArray(t)&&t.every(e)}Ue.typedArray=su;function Po(t){return t&&So(t.then)}Ue.thenable=Po;function ou(t){return t instanceof Promise?t:Po(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}Ue.asPromise=ou});var dt=L(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});var Tr;function Sr(){if(Tr===void 0)throw new Error("No runtime abstraction layer installed");return Tr}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Tr=n}t.install=e})(Sr||(Sr={}));Er.default=Sr});var Pr=L(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var au;(function(t){function e(n){return{dispose:n}}t.create=e})(au=An.Disposable||(An.Disposable={}))});var ko=L(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});var cu=dt(),Mt=Pr(),uu=require("util"),Dr=8192,Do=Buffer.from("\r","ascii")[0],bo=Buffer.from(`
`,"ascii")[0],lu=`\r
`,br=class{constructor(e="utf-8"){this._encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(Dr)}get encoding(){return this._encoding}append(e){let n;if(typeof e=="string"?n=Buffer.from(e,this._encoding):n=e,this.buffer.length-this.index>=n.length)this.buffer.set(n,this.index);else{var r=(Math.ceil((this.index+n.length)/Dr)+1)*Dr;this.index===0?(this.buffer=Buffer.allocUnsafe(r),this.buffer.set(n)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),n],r)}this.index+=n.length}tryReadHeaders(){let e=0;for(;e+3<this.index&&(this.buffer[e]!==Do||this.buffer[e+1]!==bo||this.buffer[e+2]!==Do||this.buffer[e+3]!==bo);)e++;if(e+3>=this.index)return;let n=new Map;this.buffer.toString("ascii",0,e).split(lu).forEach(s=>{let u=s.indexOf(":");if(u===-1)throw new Error("Message header must separate key and value using :");let p=s.substr(0,u),f=s.substr(u+1).trim();n.set(p,f)});let i=e+4;return this.buffer=this.buffer.slice(i),this.index=this.index-i,n}tryReadBody(e){if(this.index<e)return;let n=Buffer.alloc(e);this.buffer.copy(n,0,0,e);let r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,n}get numberOfBytes(){return this.index}},Or=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Mt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Mt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Mt.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Mt.Disposable.create(()=>this.stream.off("data",e))}},kr=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Mt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Mt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Mt.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=u=>{u==null?r():i(u)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Oo=Object.freeze({messageBuffer:Object.freeze({create:t=>new br(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new uu.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new Or(t),asWritableStream:t=>new kr(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function xr(){return Oo}(function(t){function e(){cu.default.install(Oo)}t.install=e})(xr||(xr={}));qr.default=xr});var Qt=L(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});function du(t){return t===!0||t===!1}ft.boolean=du;function xo(t){return typeof t=="string"||t instanceof String}ft.string=xo;function fu(t){return typeof t=="number"||t instanceof Number}ft.number=fu;function hu(t){return t instanceof Error}ft.error=hu;function pu(t){return typeof t=="function"}ft.func=pu;function qo(t){return Array.isArray(t)}ft.array=qo;function gu(t){return qo(t)&&t.every(e=>xo(e))}ft.stringArray=gu});var ti=L(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});var jt=Qt(),Io;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.serverErrorStart=-32099,t.serverErrorEnd=-32e3,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.RequestCancelled=-32800,t.ContentModified=-32801,t.MessageWriteError=1,t.MessageReadError=2})(Io=te.ErrorCodes||(te.ErrorCodes={}));var mn=class extends Error{constructor(e,n,r){super(n),this.code=jt.number(e)?e:Io.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,mn.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};te.ResponseError=mn;var Re=class{constructor(e){this.kind=e}static is(e){return e===Re.auto||e===Re.byName||e===Re.byPosition}toString(){return this.kind}};te.ParameterStructures=Re;Re.auto=new Re("auto");Re.byPosition=new Re("byPosition");Re.byName=new Re("byName");var ue=class{constructor(e,n){this._method=e,this._numberOfParams=n}get method(){return this._method}get numberOfParams(){return this._numberOfParams}get parameterStructures(){return Re.auto}};te.AbstractMessageSignature=ue;var Ir=class extends ue{constructor(e){super(e,0)}};te.RequestType0=Ir;var Nr=class extends ue{constructor(e,n=Re.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};te.RequestType=Nr;var Lr=class extends ue{constructor(e,n=Re.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};te.RequestType1=Lr;var Fr=class extends ue{constructor(e){super(e,2)}};te.RequestType2=Fr;var Ar=class extends ue{constructor(e){super(e,3)}};te.RequestType3=Ar;var Mr=class extends ue{constructor(e){super(e,4)}};te.RequestType4=Mr;var jr=class extends ue{constructor(e){super(e,5)}};te.RequestType5=jr;var Hr=class extends ue{constructor(e){super(e,6)}};te.RequestType6=Hr;var Wr=class extends ue{constructor(e){super(e,7)}};te.RequestType7=Wr;var Kr=class extends ue{constructor(e){super(e,8)}};te.RequestType8=Kr;var zr=class extends ue{constructor(e){super(e,9)}};te.RequestType9=zr;var $r=class extends ue{constructor(e,n=Re.auto){super(e,1),this._parameterStructures=n,this._=void 0}get parameterStructures(){return this._parameterStructures}};te.NotificationType=$r;var Ur=class extends ue{constructor(e){super(e,0)}};te.NotificationType0=Ur;var Gr=class extends ue{constructor(e,n=Re.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};te.NotificationType1=Gr;var Xr=class extends ue{constructor(e){super(e,2)}};te.NotificationType2=Xr;var Br=class extends ue{constructor(e){super(e,3)}};te.NotificationType3=Br;var Jr=class extends ue{constructor(e){super(e,4)}};te.NotificationType4=Jr;var Vr=class extends ue{constructor(e){super(e,5)}};te.NotificationType5=Vr;var Qr=class extends ue{constructor(e){super(e,6)}};te.NotificationType6=Qr;var Yr=class extends ue{constructor(e){super(e,7)}};te.NotificationType7=Yr;var Zr=class extends ue{constructor(e){super(e,8)}};te.NotificationType8=Zr;var ei=class extends ue{constructor(e){super(e,9)}};te.NotificationType9=ei;function mu(t){let e=t;return e&&jt.string(e.method)&&(jt.string(e.id)||jt.number(e.id))}te.isRequestMessage=mu;function vu(t){let e=t;return e&&jt.string(e.method)&&t.id===void 0}te.isNotificationMessage=vu;function yu(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(jt.string(e.id)||jt.number(e.id)||e.id===null)}te.isResponseMessage=yu});var Zt=L(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var Cu=dt(),Ru;(function(t){let e={dispose(){}};t.None=function(){return e}})(Ru=vn.Event||(vn.Event={}));var ni=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,u=r.length;s<u;s++)try{n.push(r[s].apply(i[s],e))}catch(p){Cu.default().console.error(p)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Yt=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new ni),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=Yt._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};vn.Emitter=Yt;Yt._noop=function(){}});var oi=L(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var No=dt(),_u=Qt(),ri=Zt(),ii;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ri.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ri.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||_u.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(ii=yn.CancellationToken||(yn.CancellationToken={}));var wu=Object.freeze(function(t,e){let n=No.default().timer.setTimeout(t.bind(e),0);return{dispose(){No.default().timer.clearTimeout(n)}}}),Mn=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?wu:(this._emitter||(this._emitter=new ri.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},si=class{get token(){return this._token||(this._token=new Mn),this._token}cancel(){this._token?this._token.cancel():this._token=ii.Cancelled}dispose(){this._token?this._token instanceof Mn&&this._token.dispose():this._token=ii.None}};yn.CancellationTokenSource=si});var Lo=L(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});var jn=dt(),en=Qt(),ai=Zt(),Tu;(function(t){function e(n){let r=n;return r&&en.func(r.listen)&&en.func(r.dispose)&&en.func(r.onError)&&en.func(r.onClose)&&en.func(r.onPartialMessage)}t.is=e})(Tu=tn.MessageReader||(tn.MessageReader={}));var Hn=class{constructor(){this.errorEmitter=new ai.Emitter,this.closeEmitter=new ai.Emitter,this.partialMessageEmitter=new ai.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${en.string(e.message)?e.message:"unknown"}`)}};tn.AbstractMessageReader=Hn;var ci;(function(t){function e(n){var r;let i,s,u,p=new Map,f,m=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(u=n.contentDecoder,p.set(u.name,u)),n.contentDecoders!==void 0)for(let R of n.contentDecoders)p.set(R.name,R);if(n.contentTypeDecoder!==void 0&&(f=n.contentTypeDecoder,m.set(f.name,f)),n.contentTypeDecoders!==void 0)for(let R of n.contentTypeDecoders)m.set(R.name,R)}return f===void 0&&(f=jn.default().applicationJson.decoder,m.set(f.name,f)),{charset:i,contentDecoder:u,contentDecoders:p,contentTypeDecoder:f,contentTypeDecoders:m}}t.fromOptions=e})(ci||(ci={}));var ui=class extends Hn{constructor(e,n){super(),this.readable=e,this.options=ci.fromOptions(n),this.buffer=jn.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let u=parseInt(s);if(isNaN(u))throw new Error("Content-Length value must be a number.");this.nextMessageLength=u}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(jn.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=jn.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};tn.ReadableStreamMessageReader=ui});var Fo=L(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});var Su=dt(),li=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||Su.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};di.Semaphore=li});var Ho=L(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var Ao=dt(),Cn=Qt(),Eu=Fo(),Mo=Zt(),Pu="Content-Length: ",jo=`\r
`,Du;(function(t){function e(n){let r=n;return r&&Cn.func(r.dispose)&&Cn.func(r.onClose)&&Cn.func(r.onError)&&Cn.func(r.write)}t.is=e})(Du=nn.MessageWriter||(nn.MessageWriter={}));var Wn=class{constructor(){this.errorEmitter=new Mo.Emitter,this.closeEmitter=new Mo.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Cn.string(e.message)?e.message:"unknown"}`)}};nn.AbstractMessageWriter=Wn;var fi;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:Ao.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:Ao.default().applicationJson.encoder}}t.fromOptions=e})(fi||(fi={}));var hi=class extends Wn{constructor(e,n){super(),this.writable=e,this.options=fi.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Eu.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(Pu,r.byteLength.toString(),jo),i.push(jo),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}};nn.WriteableStreamMessageWriter=hi});var Wo=L(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});var xe;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(xe=rn.Touch||(rn.Touch={}));var Kn=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=xe.None){let r=this._map.get(e);if(!!r)return n!==xe.None&&this.touch(r,n),r.value}set(e,n,r=xe.None){let i=this._map.get(e);if(i)i.value=n,r!==xe.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case xe.None:this.addItemLast(i);break;case xe.First:this.addItemFirst(i);break;case xe.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==xe.First&&n!==xe.Last)){if(n===xe.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===xe.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};rn.LinkedMap=Kn;var pi=class extends Kn{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=xe.AsNew){return super.get(e,n)}peek(e){return super.get(e,xe.None)}set(e,n){return super.set(e,n,xe.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};rn.LRUCache=pi});var Go=L(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});var Ko=dt(),_e=Qt(),$=ti(),zo=Wo(),Rn=Zt(),gi=oi(),_n;(function(t){t.type=new $.NotificationType("$/cancelRequest")})(_n||(_n={}));var $n;(function(t){t.type=new $.NotificationType("$/progress")})($n||($n={}));var mi=class{constructor(){}};re.ProgressType=mi;var vi;(function(t){function e(n){return _e.func(n)}t.is=e})(vi||(vi={}));re.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var pe;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(pe=re.Trace||(re.Trace={}));(function(t){function e(r){if(!_e.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(pe=re.Trace||(re.Trace={}));var Ve;(function(t){t.Text="text",t.JSON="json"})(Ve=re.TraceFormat||(re.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Ve=re.TraceFormat||(re.TraceFormat={}));var $o;(function(t){t.type=new $.NotificationType("$/setTrace")})($o=re.SetTraceNotification||(re.SetTraceNotification={}));var yi;(function(t){t.type=new $.NotificationType("$/logTrace")})(yi=re.LogTraceNotification||(re.LogTraceNotification={}));var zn;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(zn=re.ConnectionErrors||(re.ConnectionErrors={}));var Tt=class extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,Tt.prototype)}};re.ConnectionError=Tt;var Uo;(function(t){function e(n){let r=n;return r&&_e.func(r.cancelUndispatched)}t.is=e})(Uo=re.ConnectionStrategy||(re.ConnectionStrategy={}));var Ci;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new gi.CancellationTokenSource}});function e(n){let r=n;return r&&_e.func(r.createCancellationTokenSource)}t.is=e})(Ci=re.CancellationReceiverStrategy||(re.CancellationReceiverStrategy={}));var Ri;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(_n.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&_e.func(r.sendCancellation)&&_e.func(r.cleanup)}t.is=e})(Ri=re.CancellationSenderStrategy||(re.CancellationSenderStrategy={}));var _i;(function(t){t.Message=Object.freeze({receiver:Ci.Message,sender:Ri.Message});function e(n){let r=n;return r&&Ci.is(r.receiver)&&Ri.is(r.sender)}t.is=e})(_i=re.CancellationStrategy||(re.CancellationStrategy={}));var bu;(function(t){function e(n){let r=n;return r&&(_i.is(r.cancellationStrategy)||Uo.is(r.connectionStrategy))}t.is=e})(bu=re.ConnectionOptions||(re.ConnectionOptions={}));var Qe;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Qe||(Qe={}));function Ou(t,e,n,r){let i=n!==void 0?n:re.NullLogger,s=0,u=0,p=0,f="2.0",m,R=Object.create(null),y,P=Object.create(null),k=new Map,G,K=new zo.LinkedMap,X=Object.create(null),M=Object.create(null),q=pe.Off,j=Ve.Text,z,Ce=Qe.New,et=new Rn.Emitter,He=new Rn.Emitter,qe=new Rn.Emitter,be=new Rn.Emitter,tt=new Rn.Emitter,ve=r&&r.cancellationStrategy?r.cancellationStrategy:_i.Message;function We(d){if(d===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+d.toString()}function nt(d){return d===null?"res-unknown-"+(++p).toString():"res-"+d.toString()}function gt(){return"not-"+(++u).toString()}function Ke(d,_){$.isRequestMessage(_)?d.set(We(_.id),_):$.isResponseMessage(_)?d.set(nt(_.id),_):d.set(gt(),_)}function kt(d){}function mt(){return Ce===Qe.Listening}function it(){return Ce===Qe.Closed}function Ie(){return Ce===Qe.Disposed}function Xe(){(Ce===Qe.New||Ce===Qe.Listening)&&(Ce=Qe.Closed,He.fire(void 0))}function xt(d){et.fire([d,void 0,void 0])}function vt(d){et.fire(d)}t.onClose(Xe),t.onError(xt),e.onClose(Xe),e.onError(vt);function st(){G||K.size===0||(G=Ko.default().timer.setImmediate(()=>{G=void 0,qt()}))}function qt(){if(K.size===0)return;let d=K.shift();try{$.isRequestMessage(d)?yt(d):$.isNotificationMessage(d)?at(d):$.isResponseMessage(d)?Ct(d):It(d)}finally{st()}}let ot=d=>{try{if($.isNotificationMessage(d)&&d.method===_n.type.method){let _=We(d.params.id),b=K.get(_);if($.isRequestMessage(b)){let x=r?.connectionStrategy,N=x&&x.cancelUndispatched?x.cancelUndispatched(b,kt):void 0;if(N&&(N.error!==void 0||N.result!==void 0)){K.delete(_),N.id=b.id,Ne(N,d.method,Date.now()),e.write(N);return}}}Ke(K,d)}finally{st()}};function yt(d){if(Ie())return;function _(v,O,F){let he={jsonrpc:f,id:d.id};v instanceof $.ResponseError?he.error=v.toJson():he.result=v===void 0?null:v,Ne(he,O,F),e.write(he)}function b(v,O,F){let he={jsonrpc:f,id:d.id,error:v.toJson()};Ne(he,O,F),e.write(he)}function x(v,O,F){v===void 0&&(v=null);let he={jsonrpc:f,id:d.id,result:v};Ne(he,O,F),e.write(he)}Nt(d);let N=R[d.method],Z,se;N&&(Z=N.type,se=N.handler);let o=Date.now();if(se||m){let v=String(d.id),O=ve.receiver.createCancellationTokenSource(v);M[v]=O;try{let F;if(se)if(d.params===void 0){if(Z!==void 0&&Z.numberOfParams!==0){b(new $.ResponseError($.ErrorCodes.InvalidParams,`Request ${d.method} defines ${Z.numberOfParams} params but recevied none.`),d.method,o);return}F=se(O.token)}else if(Array.isArray(d.params)){if(Z!==void 0&&Z.parameterStructures===$.ParameterStructures.byName){b(new $.ResponseError($.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by name but received parameters by position`),d.method,o);return}F=se(...d.params,O.token)}else{if(Z!==void 0&&Z.parameterStructures===$.ParameterStructures.byPosition){b(new $.ResponseError($.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by position but received parameters by name`),d.method,o);return}F=se(d.params,O.token)}else m&&(F=m(d.method,d.params,O.token));let he=F;F?he.then?he.then(Te=>{delete M[v],_(Te,d.method,o)},Te=>{delete M[v],Te instanceof $.ResponseError?b(Te,d.method,o):Te&&_e.string(Te.message)?b(new $.ResponseError($.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${Te.message}`),d.method,o):b(new $.ResponseError($.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,o)}):(delete M[v],_(F,d.method,o)):(delete M[v],x(F,d.method,o))}catch(F){delete M[v],F instanceof $.ResponseError?_(F,d.method,o):F&&_e.string(F.message)?b(new $.ResponseError($.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${F.message}`),d.method,o):b(new $.ResponseError($.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,o)}}else b(new $.ResponseError($.ErrorCodes.MethodNotFound,`Unhandled method ${d.method}`),d.method,o)}function Ct(d){if(!Ie())if(d.id===null)d.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(d.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let _=String(d.id),b=X[_];if(Be(d,b),b){delete X[_];try{if(d.error){let x=d.error;b.reject(new $.ResponseError(x.code,x.message,x.data))}else if(d.result!==void 0)b.resolve(d.result);else throw new Error("Should never happen.")}catch(x){x.message?i.error(`Response handler '${b.method}' failed with message: ${x.message}`):i.error(`Response handler '${b.method}' failed unexpectedly.`)}}}}function at(d){if(Ie())return;let _,b;if(d.method===_n.type.method)b=x=>{let N=x.id,Z=M[String(N)];Z&&Z.cancel()};else{let x=P[d.method];x&&(b=x.handler,_=x.type)}if(b||y)try{Oe(d),b?d.params===void 0?(_!==void 0&&_.numberOfParams!==0&&_.parameterStructures!==$.ParameterStructures.byName&&i.error(`Notification ${d.method} defines ${_.numberOfParams} params but recevied none.`),b()):Array.isArray(d.params)?(_!==void 0&&(_.parameterStructures===$.ParameterStructures.byName&&i.error(`Notification ${d.method} defines parameters by name but received parameters by position`),_.numberOfParams!==d.params.length&&i.error(`Notification ${d.method} defines ${_.numberOfParams} params but received ${d.params.length} argumennts`)),b(...d.params)):(_!==void 0&&_.parameterStructures===$.ParameterStructures.byPosition&&i.error(`Notification ${d.method} defines parameters by position but received parameters by name`),b(d.params)):y&&y(d.method,d.params)}catch(x){x.message?i.error(`Notification handler '${d.method}' failed with message: ${x.message}`):i.error(`Notification handler '${d.method}' failed unexpectedly.`)}else qe.fire(d)}function It(d){if(!d){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(d,null,4)}`);let _=d;if(_e.string(_.id)||_e.number(_.id)){let b=String(_.id),x=X[b];x&&x.reject(new Error("The received response has neither a result nor an error property."))}}function ct(d){if(!(q===pe.Off||!z))if(j===Ve.Text){let _;q===pe.Verbose&&d.params&&(_=`Params: ${JSON.stringify(d.params,null,4)}

`),z.log(`Sending request '${d.method} - (${d.id})'.`,_)}else ze("send-request",d)}function ut(d){if(!(q===pe.Off||!z))if(j===Ve.Text){let _;q===pe.Verbose&&(d.params?_=`Params: ${JSON.stringify(d.params,null,4)}

`:_=`No parameters provided.

`),z.log(`Sending notification '${d.method}'.`,_)}else ze("send-notification",d)}function Ne(d,_,b){if(!(q===pe.Off||!z))if(j===Ve.Text){let x;q===pe.Verbose&&(d.error&&d.error.data?x=`Error data: ${JSON.stringify(d.error.data,null,4)}

`:d.result?x=`Result: ${JSON.stringify(d.result,null,4)}

`:d.error===void 0&&(x=`No result returned.

`)),z.log(`Sending response '${_} - (${d.id})'. Processing request took ${Date.now()-b}ms`,x)}else ze("send-response",d)}function Nt(d){if(!(q===pe.Off||!z))if(j===Ve.Text){let _;q===pe.Verbose&&d.params&&(_=`Params: ${JSON.stringify(d.params,null,4)}

`),z.log(`Received request '${d.method} - (${d.id})'.`,_)}else ze("receive-request",d)}function Oe(d){if(!(q===pe.Off||!z||d.method===yi.type.method))if(j===Ve.Text){let _;q===pe.Verbose&&(d.params?_=`Params: ${JSON.stringify(d.params,null,4)}

`:_=`No parameters provided.

`),z.log(`Received notification '${d.method}'.`,_)}else ze("receive-notification",d)}function Be(d,_){if(!(q===pe.Off||!z))if(j===Ve.Text){let b;if(q===pe.Verbose&&(d.error&&d.error.data?b=`Error data: ${JSON.stringify(d.error.data,null,4)}

`:d.result?b=`Result: ${JSON.stringify(d.result,null,4)}

`:d.error===void 0&&(b=`No result returned.

`)),_){let x=d.error?` Request failed: ${d.error.message} (${d.error.code}).`:"";z.log(`Received response '${_.method} - (${d.id})' in ${Date.now()-_.timerStart}ms.${x}`,b)}else z.log(`Received response ${d.id} without active response promise.`,b)}else ze("receive-response",d)}function ze(d,_){if(!z||q===pe.Off)return;let b={isLSPMessage:!0,type:d,message:_,timestamp:Date.now()};z.log(b)}function Je(){if(it())throw new Tt(zn.Closed,"Connection is closed.");if(Ie())throw new Tt(zn.Disposed,"Connection is disposed.")}function Rt(){if(mt())throw new Tt(zn.AlreadyListening,"Connection is already listening")}function T(){if(!mt())throw new Error("Call listen() first.")}function h(d){return d===void 0?null:d}function C(d){if(d!==null)return d}function a(d){return d!=null&&!Array.isArray(d)&&typeof d=="object"}function l(d,_){switch(d){case $.ParameterStructures.auto:return a(_)?C(_):[h(_)];case $.ParameterStructures.byName:if(!a(_))throw new Error("Recevied parameters by name but param is not an object literal.");return C(_);case $.ParameterStructures.byPosition:return[h(_)];default:throw new Error(`Unknown parameter structure ${d.toString()}`)}}function c(d,_){let b,x=d.numberOfParams;switch(x){case 0:b=void 0;break;case 1:b=l(d.parameterStructures,_[0]);break;default:b=[];for(let N=0;N<_.length&&N<x;N++)b.push(h(_[N]));if(_.length<x)for(let N=_.length;N<x;N++)b.push(null);break}return b}let S={sendNotification:(d,..._)=>{Je();let b,x;if(_e.string(d)){b=d;let Z=_[0],se=0,o=$.ParameterStructures.auto;$.ParameterStructures.is(Z)&&(se=1,o=Z);let v=_.length,O=v-se;switch(O){case 0:x=void 0;break;case 1:x=l(o,_[se]);break;default:if(o===$.ParameterStructures.byName)throw new Error(`Recevied ${O} parameters for 'by Name' notification parameter structure.`);x=_.slice(se,v).map(F=>h(F));break}}else{let Z=_;b=d.method,x=c(d,Z)}let N={jsonrpc:f,method:b,params:x};ut(N),e.write(N)},onNotification:(d,_)=>{Je(),_e.func(d)?y=d:_&&(_e.string(d)?P[d]={type:void 0,handler:_}:P[d.method]={type:d,handler:_})},onProgress:(d,_,b)=>{if(k.has(_))throw new Error(`Progress handler for token ${_} already registered`);return k.set(_,b),{dispose:()=>{k.delete(_)}}},sendProgress:(d,_,b)=>{S.sendNotification($n.type,{token:_,value:b})},onUnhandledProgress:be.event,sendRequest:(d,..._)=>{Je(),T();let b,x,N;if(_e.string(d)){b=d;let v=_[0],O=_[_.length-1],F=0,he=$.ParameterStructures.auto;$.ParameterStructures.is(v)&&(F=1,he=v);let Te=_.length;gi.CancellationToken.is(O)&&(Te=Te-1,N=O);let Lt=Te-F;switch(Lt){case 0:x=void 0;break;case 1:x=l(he,_[F]);break;default:if(he===$.ParameterStructures.byName)throw new Error(`Recevied ${Lt} parameters for 'by Name' request parameter structure.`);x=_.slice(F,Te).map(_t=>h(_t));break}}else{let v=_;b=d.method,x=c(d,v);let O=d.numberOfParams;N=gi.CancellationToken.is(v[O])?v[O]:void 0}let Z=s++,se;return N&&(se=N.onCancellationRequested(()=>{ve.sender.sendCancellation(S,Z)})),new Promise((v,O)=>{let F={jsonrpc:f,id:Z,method:b,params:x},he=_t=>{v(_t),ve.sender.cleanup(Z),se?.dispose()},Te=_t=>{O(_t),ve.sender.cleanup(Z),se?.dispose()},Lt={method:b,timerStart:Date.now(),resolve:he,reject:Te};ct(F);try{e.write(F)}catch(_t){Lt.reject(new $.ResponseError($.ErrorCodes.MessageWriteError,_t.message?_t.message:"Unknown reason")),Lt=null}Lt&&(X[String(Z)]=Lt)})},onRequest:(d,_)=>{Je(),vi.is(d)?m=d:_e.string(d)?_!==void 0&&(R[d]={handler:_,type:void 0}):_!==void 0&&(R[d.method]={type:d,handler:_})},trace:(d,_,b)=>{let x=!1,N=Ve.Text;b!==void 0&&(_e.boolean(b)?x=b:(x=b.sendNotification||!1,N=b.traceFormat||Ve.Text)),q=d,j=N,q===pe.Off?z=void 0:z=_,x&&!it()&&!Ie()&&S.sendNotification($o.type,{value:pe.toString(d)})},onError:et.event,onClose:He.event,onUnhandledNotification:qe.event,onDispose:tt.event,dispose:()=>{if(Ie())return;Ce=Qe.Disposed,tt.fire(void 0);let d=new Error("Connection got disposed.");Object.keys(X).forEach(_=>{X[_].reject(d)}),X=Object.create(null),M=Object.create(null),K=new zo.LinkedMap,_e.func(e.dispose)&&e.dispose(),_e.func(t.dispose)&&t.dispose()},listen:()=>{Je(),Rt(),Ce=Qe.Listening,t.listen(ot)},inspect:()=>{Ko.default().console.log("inspect")}};return S.onNotification(yi.type,d=>{q===pe.Off||!z||z.log(d.message,q===pe.Verbose?d.verbose:void 0)}),S.onNotification($n.type,d=>{let _=k.get(d.token);_?_(d.value):be.fire(d)}),S}re.createMessageConnection=Ou});var Si=L(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});var le=ti();H.RequestType=le.RequestType;H.RequestType0=le.RequestType0;H.RequestType1=le.RequestType1;H.RequestType2=le.RequestType2;H.RequestType3=le.RequestType3;H.RequestType4=le.RequestType4;H.RequestType5=le.RequestType5;H.RequestType6=le.RequestType6;H.RequestType7=le.RequestType7;H.RequestType8=le.RequestType8;H.RequestType9=le.RequestType9;H.ResponseError=le.ResponseError;H.ErrorCodes=le.ErrorCodes;H.NotificationType=le.NotificationType;H.NotificationType0=le.NotificationType0;H.NotificationType1=le.NotificationType1;H.NotificationType2=le.NotificationType2;H.NotificationType3=le.NotificationType3;H.NotificationType4=le.NotificationType4;H.NotificationType5=le.NotificationType5;H.NotificationType6=le.NotificationType6;H.NotificationType7=le.NotificationType7;H.NotificationType8=le.NotificationType8;H.NotificationType9=le.NotificationType9;H.ParameterStructures=le.ParameterStructures;var ku=Pr();H.Disposable=ku.Disposable;var Xo=Zt();H.Event=Xo.Event;H.Emitter=Xo.Emitter;var Bo=oi();H.CancellationTokenSource=Bo.CancellationTokenSource;H.CancellationToken=Bo.CancellationToken;var wi=Lo();H.MessageReader=wi.MessageReader;H.AbstractMessageReader=wi.AbstractMessageReader;H.ReadableStreamMessageReader=wi.ReadableStreamMessageReader;var Ti=Ho();H.MessageWriter=Ti.MessageWriter;H.AbstractMessageWriter=Ti.AbstractMessageWriter;H.WriteableStreamMessageWriter=Ti.WriteableStreamMessageWriter;var Le=Go();H.ConnectionStrategy=Le.ConnectionStrategy;H.ConnectionOptions=Le.ConnectionOptions;H.NullLogger=Le.NullLogger;H.createMessageConnection=Le.createMessageConnection;H.ProgressType=Le.ProgressType;H.Trace=Le.Trace;H.TraceFormat=Le.TraceFormat;H.SetTraceNotification=Le.SetTraceNotification;H.LogTraceNotification=Le.LogTraceNotification;H.ConnectionErrors=Le.ConnectionErrors;H.ConnectionError=Le.ConnectionError;H.CancellationReceiverStrategy=Le.CancellationReceiverStrategy;H.CancellationSenderStrategy=Le.CancellationSenderStrategy;H.CancellationStrategy=Le.CancellationStrategy;var xu=dt();H.RAL=xu.default});var Me=L(Pe=>{"use strict";function qu(t){for(var e in t)Pe.hasOwnProperty(e)||(Pe[e]=t[e])}Object.defineProperty(Pe,"__esModule",{value:!0});var wn=ko();wn.default.install();var rt=Si(),Iu=require("path"),Nu=require("os"),Lu=require("crypto"),Xn=require("net");qu(Si());var Ei=class extends rt.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),rt.Disposable.create(()=>this.process.off("message",e))}};Pe.IPCMessageReader=Ei;var Pi=class extends rt.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}};Pe.IPCMessageWriter=Pi;var Ht=class extends rt.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(wn.default().stream.asReadableStream(e),n)}};Pe.SocketMessageReader=Ht;var Wt=class extends rt.WriteableStreamMessageWriter{constructor(e,n){super(wn.default().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Pe.SocketMessageWriter=Wt;var Un=class extends rt.ReadableStreamMessageReader{constructor(e,n){super(wn.default().stream.asReadableStream(e),n)}};Pe.StreamMessageReader=Un;var Gn=class extends rt.WriteableStreamMessageWriter{constructor(e,n){super(wn.default().stream.asWritableStream(e),n)}};Pe.StreamMessageWriter=Gn;function Fu(){let t=Lu.randomBytes(21).toString("hex");return process.platform==="win32"?`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`:Iu.join(Nu.tmpdir(),`vscode-${t}.sock`)}Pe.generateRandomPipeName=Fu;function Au(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let u=Xn.createServer(p=>{u.close(),n([new Ht(p,e),new Wt(p,e)])});u.on("error",s),u.listen(t,()=>{u.removeListener("error",s),i({onConnected:()=>r})})})}Pe.createClientPipeTransport=Au;function Mu(t,e="utf-8"){let n=Xn.createConnection(t);return[new Ht(n,e),new Wt(n,e)]}Pe.createServerPipeTransport=Mu;function ju(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let u=Xn.createServer(p=>{u.close(),n([new Ht(p,e),new Wt(p,e)])});u.on("error",s),u.listen(t,"127.0.0.1",()=>{u.removeListener("error",s),i({onConnected:()=>r})})})}Pe.createClientSocketTransport=ju;function Hu(t,e="utf-8"){let n=Xn.createConnection(t,"127.0.0.1");return[new Ht(n,e),new Wt(n,e)]}Pe.createServerSocketTransport=Hu;function Wu(t){return t.listen!==void 0&&t.read===void 0}function Ku(t){return t.write!==void 0&&t.end===void 0}function zu(t,e,n,r){n||(n=rt.NullLogger);let i=Wu(t)?t:new Un(t),s=Ku(e)?e:new Gn(e);return rt.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),rt.createMessageConnection(i,s,n,r)}Pe.createMessageConnection=zu});var Bn=L((yh,Jo)=>{"use strict";Jo.exports=Me()});var Qo=L((Vo,Jn)=>{(function(t){if(typeof Jn=="object"&&typeof Jn.exports=="object"){var e=t(require,Vo);e!==void 0&&(Jn.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;(function(h){function C(l,c){return{line:l,character:c}}h.create=C;function a(l){var c=l;return T.objectLiteral(c)&&T.number(c.line)&&T.number(c.character)}h.is=a})(n=e.Position||(e.Position={}));var r;(function(h){function C(l,c,S,d){if(T.number(l)&&T.number(c)&&T.number(S)&&T.number(d))return{start:n.create(l,c),end:n.create(S,d)};if(n.is(l)&&n.is(c))return{start:l,end:c};throw new Error("Range#create called with invalid arguments["+l+", "+c+", "+S+", "+d+"]")}h.create=C;function a(l){var c=l;return T.objectLiteral(c)&&n.is(c.start)&&n.is(c.end)}h.is=a})(r=e.Range||(e.Range={}));var i;(function(h){function C(l,c){return{uri:l,range:c}}h.create=C;function a(l){var c=l;return T.defined(c)&&r.is(c.range)&&(T.string(c.uri)||T.undefined(c.uri))}h.is=a})(i=e.Location||(e.Location={}));var s;(function(h){function C(l,c,S,d){return{targetUri:l,targetRange:c,targetSelectionRange:S,originSelectionRange:d}}h.create=C;function a(l){var c=l;return T.defined(c)&&r.is(c.targetRange)&&T.string(c.targetUri)&&(r.is(c.targetSelectionRange)||T.undefined(c.targetSelectionRange))&&(r.is(c.originSelectionRange)||T.undefined(c.originSelectionRange))}h.is=a})(s=e.LocationLink||(e.LocationLink={}));var u;(function(h){function C(l,c,S,d){return{red:l,green:c,blue:S,alpha:d}}h.create=C;function a(l){var c=l;return T.number(c.red)&&T.number(c.green)&&T.number(c.blue)&&T.number(c.alpha)}h.is=a})(u=e.Color||(e.Color={}));var p;(function(h){function C(l,c){return{range:l,color:c}}h.create=C;function a(l){var c=l;return r.is(c.range)&&u.is(c.color)}h.is=a})(p=e.ColorInformation||(e.ColorInformation={}));var f;(function(h){function C(l,c,S){return{label:l,textEdit:c,additionalTextEdits:S}}h.create=C;function a(l){var c=l;return T.string(c.label)&&(T.undefined(c.textEdit)||M.is(c))&&(T.undefined(c.additionalTextEdits)||T.typedArray(c.additionalTextEdits,M.is))}h.is=a})(f=e.ColorPresentation||(e.ColorPresentation={}));var m;(function(h){h.Comment="comment",h.Imports="imports",h.Region="region"})(m=e.FoldingRangeKind||(e.FoldingRangeKind={}));var R;(function(h){function C(l,c,S,d,_){var b={startLine:l,endLine:c};return T.defined(S)&&(b.startCharacter=S),T.defined(d)&&(b.endCharacter=d),T.defined(_)&&(b.kind=_),b}h.create=C;function a(l){var c=l;return T.number(c.startLine)&&T.number(c.startLine)&&(T.undefined(c.startCharacter)||T.number(c.startCharacter))&&(T.undefined(c.endCharacter)||T.number(c.endCharacter))&&(T.undefined(c.kind)||T.string(c.kind))}h.is=a})(R=e.FoldingRange||(e.FoldingRange={}));var y;(function(h){function C(l,c){return{location:l,message:c}}h.create=C;function a(l){var c=l;return T.defined(c)&&i.is(c.location)&&T.string(c.message)}h.is=a})(y=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var P;(function(h){h.Error=1,h.Warning=2,h.Information=3,h.Hint=4})(P=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var k;(function(h){h.Unnecessary=1,h.Deprecated=2})(k=e.DiagnosticTag||(e.DiagnosticTag={}));var G;(function(h){function C(a){var l=a;return l!=null&&(T.number(l.value)||T.string(l.value))&&T.string(l.target)}h.is=C})(G=e.DiagnosticCode||(e.DiagnosticCode={}));var K;(function(h){function C(l,c,S,d,_,b){var x={range:l,message:c};return T.defined(S)&&(x.severity=S),T.defined(d)&&(x.code=d),T.defined(_)&&(x.source=_),T.defined(b)&&(x.relatedInformation=b),x}h.create=C;function a(l){var c=l;return T.defined(c)&&r.is(c.range)&&T.string(c.message)&&(T.number(c.severity)||T.undefined(c.severity))&&(T.number(c.code)||T.string(c.code)||T.undefined(c.code))&&(T.string(c.source)||T.undefined(c.source))&&(T.undefined(c.relatedInformation)||T.typedArray(c.relatedInformation,y.is))}h.is=a})(K=e.Diagnostic||(e.Diagnostic={}));var X;(function(h){function C(l,c){for(var S=[],d=2;d<arguments.length;d++)S[d-2]=arguments[d];var _={title:l,command:c};return T.defined(S)&&S.length>0&&(_.arguments=S),_}h.create=C;function a(l){var c=l;return T.defined(c)&&T.string(c.title)&&T.string(c.command)}h.is=a})(X=e.Command||(e.Command={}));var M;(function(h){function C(S,d){return{range:S,newText:d}}h.replace=C;function a(S,d){return{range:{start:S,end:S},newText:d}}h.insert=a;function l(S){return{range:S,newText:""}}h.del=l;function c(S){var d=S;return T.objectLiteral(d)&&T.string(d.newText)&&r.is(d.range)}h.is=c})(M=e.TextEdit||(e.TextEdit={}));var q;(function(h){function C(l,c){return{textDocument:l,edits:c}}h.create=C;function a(l){var c=l;return T.defined(c)&&tt.is(c.textDocument)&&Array.isArray(c.edits)}h.is=a})(q=e.TextDocumentEdit||(e.TextDocumentEdit={}));var j;(function(h){function C(l,c){var S={kind:"create",uri:l};return c!==void 0&&(c.overwrite!==void 0||c.ignoreIfExists!==void 0)&&(S.options=c),S}h.create=C;function a(l){var c=l;return c&&c.kind==="create"&&T.string(c.uri)&&(c.options===void 0||(c.options.overwrite===void 0||T.boolean(c.options.overwrite))&&(c.options.ignoreIfExists===void 0||T.boolean(c.options.ignoreIfExists)))}h.is=a})(j=e.CreateFile||(e.CreateFile={}));var z;(function(h){function C(l,c,S){var d={kind:"rename",oldUri:l,newUri:c};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(d.options=S),d}h.create=C;function a(l){var c=l;return c&&c.kind==="rename"&&T.string(c.oldUri)&&T.string(c.newUri)&&(c.options===void 0||(c.options.overwrite===void 0||T.boolean(c.options.overwrite))&&(c.options.ignoreIfExists===void 0||T.boolean(c.options.ignoreIfExists)))}h.is=a})(z=e.RenameFile||(e.RenameFile={}));var Ce;(function(h){function C(l,c){var S={kind:"delete",uri:l};return c!==void 0&&(c.recursive!==void 0||c.ignoreIfNotExists!==void 0)&&(S.options=c),S}h.create=C;function a(l){var c=l;return c&&c.kind==="delete"&&T.string(c.uri)&&(c.options===void 0||(c.options.recursive===void 0||T.boolean(c.options.recursive))&&(c.options.ignoreIfNotExists===void 0||T.boolean(c.options.ignoreIfNotExists)))}h.is=a})(Ce=e.DeleteFile||(e.DeleteFile={}));var et;(function(h){function C(a){var l=a;return l&&(l.changes!==void 0||l.documentChanges!==void 0)&&(l.documentChanges===void 0||l.documentChanges.every(function(c){return T.string(c.kind)?j.is(c)||z.is(c)||Ce.is(c):q.is(c)}))}h.is=C})(et=e.WorkspaceEdit||(e.WorkspaceEdit={}));var He=function(){function h(C){this.edits=C}return h.prototype.insert=function(C,a){this.edits.push(M.insert(C,a))},h.prototype.replace=function(C,a){this.edits.push(M.replace(C,a))},h.prototype.delete=function(C){this.edits.push(M.del(C))},h.prototype.add=function(C){this.edits.push(C)},h.prototype.all=function(){return this.edits},h.prototype.clear=function(){this.edits.splice(0,this.edits.length)},h}(),qe=function(){function h(C){var a=this;this._textEditChanges=Object.create(null),C&&(this._workspaceEdit=C,C.documentChanges?C.documentChanges.forEach(function(l){if(q.is(l)){var c=new He(l.edits);a._textEditChanges[l.textDocument.uri]=c}}):C.changes&&Object.keys(C.changes).forEach(function(l){var c=new He(C.changes[l]);a._textEditChanges[l]=c}))}return Object.defineProperty(h.prototype,"edit",{get:function(){return this._workspaceEdit===void 0?{documentChanges:[]}:this._workspaceEdit},enumerable:!0,configurable:!0}),h.prototype.getTextEditChange=function(C){if(tt.is(C)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var a=C,l=this._textEditChanges[a.uri];if(!l){var c=[],S={textDocument:a,edits:c};this._workspaceEdit.documentChanges.push(S),l=new He(c),this._textEditChanges[a.uri]=l}return l}else{if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var l=this._textEditChanges[C];if(!l){var c=[];this._workspaceEdit.changes[C]=c,l=new He(c),this._textEditChanges[C]=l}return l}},h.prototype.createFile=function(C,a){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(j.create(C,a))},h.prototype.renameFile=function(C,a,l){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(z.create(C,a,l))},h.prototype.deleteFile=function(C,a){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(Ce.create(C,a))},h.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},h}();e.WorkspaceChange=qe;var be;(function(h){function C(l){return{uri:l}}h.create=C;function a(l){var c=l;return T.defined(c)&&T.string(c.uri)}h.is=a})(be=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var tt;(function(h){function C(l,c){return{uri:l,version:c}}h.create=C;function a(l){var c=l;return T.defined(c)&&T.string(c.uri)&&(c.version===null||T.number(c.version))}h.is=a})(tt=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ve;(function(h){function C(l,c,S,d){return{uri:l,languageId:c,version:S,text:d}}h.create=C;function a(l){var c=l;return T.defined(c)&&T.string(c.uri)&&T.string(c.languageId)&&T.number(c.version)&&T.string(c.text)}h.is=a})(ve=e.TextDocumentItem||(e.TextDocumentItem={}));var We;(function(h){h.PlainText="plaintext",h.Markdown="markdown"})(We=e.MarkupKind||(e.MarkupKind={})),function(h){function C(a){var l=a;return l===h.PlainText||l===h.Markdown}h.is=C}(We=e.MarkupKind||(e.MarkupKind={}));var nt;(function(h){function C(a){var l=a;return T.objectLiteral(a)&&We.is(l.kind)&&T.string(l.value)}h.is=C})(nt=e.MarkupContent||(e.MarkupContent={}));var gt;(function(h){h.Text=1,h.Method=2,h.Function=3,h.Constructor=4,h.Field=5,h.Variable=6,h.Class=7,h.Interface=8,h.Module=9,h.Property=10,h.Unit=11,h.Value=12,h.Enum=13,h.Keyword=14,h.Snippet=15,h.Color=16,h.File=17,h.Reference=18,h.Folder=19,h.EnumMember=20,h.Constant=21,h.Struct=22,h.Event=23,h.Operator=24,h.TypeParameter=25})(gt=e.CompletionItemKind||(e.CompletionItemKind={}));var Ke;(function(h){h.PlainText=1,h.Snippet=2})(Ke=e.InsertTextFormat||(e.InsertTextFormat={}));var kt;(function(h){h.Deprecated=1})(kt=e.CompletionItemTag||(e.CompletionItemTag={}));var mt;(function(h){function C(l,c,S){return{newText:l,insert:c,replace:S}}h.create=C;function a(l){var c=l;return c&&T.string(c.newText)&&r.is(c.insert)&&r.is(c.replace)}h.is=a})(mt=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var it;(function(h){function C(a){return{label:a}}h.create=C})(it=e.CompletionItem||(e.CompletionItem={}));var Ie;(function(h){function C(a,l){return{items:a||[],isIncomplete:!!l}}h.create=C})(Ie=e.CompletionList||(e.CompletionList={}));var Xe;(function(h){function C(l){return l.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}h.fromPlainText=C;function a(l){var c=l;return T.string(c)||T.objectLiteral(c)&&T.string(c.language)&&T.string(c.value)}h.is=a})(Xe=e.MarkedString||(e.MarkedString={}));var xt;(function(h){function C(a){var l=a;return!!l&&T.objectLiteral(l)&&(nt.is(l.contents)||Xe.is(l.contents)||T.typedArray(l.contents,Xe.is))&&(a.range===void 0||r.is(a.range))}h.is=C})(xt=e.Hover||(e.Hover={}));var vt;(function(h){function C(a,l){return l?{label:a,documentation:l}:{label:a}}h.create=C})(vt=e.ParameterInformation||(e.ParameterInformation={}));var st;(function(h){function C(a,l){for(var c=[],S=2;S<arguments.length;S++)c[S-2]=arguments[S];var d={label:a};return T.defined(l)&&(d.documentation=l),T.defined(c)?d.parameters=c:d.parameters=[],d}h.create=C})(st=e.SignatureInformation||(e.SignatureInformation={}));var qt;(function(h){h.Text=1,h.Read=2,h.Write=3})(qt=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var ot;(function(h){function C(a,l){var c={range:a};return T.number(l)&&(c.kind=l),c}h.create=C})(ot=e.DocumentHighlight||(e.DocumentHighlight={}));var yt;(function(h){h.File=1,h.Module=2,h.Namespace=3,h.Package=4,h.Class=5,h.Method=6,h.Property=7,h.Field=8,h.Constructor=9,h.Enum=10,h.Interface=11,h.Function=12,h.Variable=13,h.Constant=14,h.String=15,h.Number=16,h.Boolean=17,h.Array=18,h.Object=19,h.Key=20,h.Null=21,h.EnumMember=22,h.Struct=23,h.Event=24,h.Operator=25,h.TypeParameter=26})(yt=e.SymbolKind||(e.SymbolKind={}));var Ct;(function(h){h.Deprecated=1})(Ct=e.SymbolTag||(e.SymbolTag={}));var at;(function(h){function C(a,l,c,S,d){var _={name:a,kind:l,location:{uri:S,range:c}};return d&&(_.containerName=d),_}h.create=C})(at=e.SymbolInformation||(e.SymbolInformation={}));var It;(function(h){function C(l,c,S,d,_,b){var x={name:l,detail:c,kind:S,range:d,selectionRange:_};return b!==void 0&&(x.children=b),x}h.create=C;function a(l){var c=l;return c&&T.string(c.name)&&T.number(c.kind)&&r.is(c.range)&&r.is(c.selectionRange)&&(c.detail===void 0||T.string(c.detail))&&(c.deprecated===void 0||T.boolean(c.deprecated))&&(c.children===void 0||Array.isArray(c.children))&&(c.tags===void 0||Array.isArray(c.tags))}h.is=a})(It=e.DocumentSymbol||(e.DocumentSymbol={}));var ct;(function(h){h.Empty="",h.QuickFix="quickfix",h.Refactor="refactor",h.RefactorExtract="refactor.extract",h.RefactorInline="refactor.inline",h.RefactorRewrite="refactor.rewrite",h.Source="source",h.SourceOrganizeImports="source.organizeImports",h.SourceFixAll="source.fixAll"})(ct=e.CodeActionKind||(e.CodeActionKind={}));var ut;(function(h){function C(l,c){var S={diagnostics:l};return c!=null&&(S.only=c),S}h.create=C;function a(l){var c=l;return T.defined(c)&&T.typedArray(c.diagnostics,K.is)&&(c.only===void 0||T.typedArray(c.only,T.string))}h.is=a})(ut=e.CodeActionContext||(e.CodeActionContext={}));var Ne;(function(h){function C(l,c,S){var d={title:l};return X.is(c)?d.command=c:d.edit=c,S!==void 0&&(d.kind=S),d}h.create=C;function a(l){var c=l;return c&&T.string(c.title)&&(c.diagnostics===void 0||T.typedArray(c.diagnostics,K.is))&&(c.kind===void 0||T.string(c.kind))&&(c.edit!==void 0||c.command!==void 0)&&(c.command===void 0||X.is(c.command))&&(c.isPreferred===void 0||T.boolean(c.isPreferred))&&(c.edit===void 0||et.is(c.edit))}h.is=a})(Ne=e.CodeAction||(e.CodeAction={}));var Nt;(function(h){function C(l,c){var S={range:l};return T.defined(c)&&(S.data=c),S}h.create=C;function a(l){var c=l;return T.defined(c)&&r.is(c.range)&&(T.undefined(c.command)||X.is(c.command))}h.is=a})(Nt=e.CodeLens||(e.CodeLens={}));var Oe;(function(h){function C(l,c){return{tabSize:l,insertSpaces:c}}h.create=C;function a(l){var c=l;return T.defined(c)&&T.number(c.tabSize)&&T.boolean(c.insertSpaces)}h.is=a})(Oe=e.FormattingOptions||(e.FormattingOptions={}));var Be;(function(h){function C(l,c,S){return{range:l,target:c,data:S}}h.create=C;function a(l){var c=l;return T.defined(c)&&r.is(c.range)&&(T.undefined(c.target)||T.string(c.target))}h.is=a})(Be=e.DocumentLink||(e.DocumentLink={}));var ze;(function(h){function C(l,c){return{range:l,parent:c}}h.create=C;function a(l){var c=l;return c!==void 0&&r.is(c.range)&&(c.parent===void 0||h.is(c.parent))}h.is=a})(ze=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var Je;(function(h){function C(S,d,_,b){return new Rt(S,d,_,b)}h.create=C;function a(S){var d=S;return!!(T.defined(d)&&T.string(d.uri)&&(T.undefined(d.languageId)||T.string(d.languageId))&&T.number(d.lineCount)&&T.func(d.getText)&&T.func(d.positionAt)&&T.func(d.offsetAt))}h.is=a;function l(S,d){for(var _=S.getText(),b=c(d,function(v,O){var F=v.range.start.line-O.range.start.line;return F===0?v.range.start.character-O.range.start.character:F}),x=_.length,N=b.length-1;N>=0;N--){var Z=b[N],se=S.offsetAt(Z.range.start),o=S.offsetAt(Z.range.end);if(o<=x)_=_.substring(0,se)+Z.newText+_.substring(o,_.length);else throw new Error("Overlapping edit");x=se}return _}h.applyEdits=l;function c(S,d){if(S.length<=1)return S;var _=S.length/2|0,b=S.slice(0,_),x=S.slice(_);c(b,d),c(x,d);for(var N=0,Z=0,se=0;N<b.length&&Z<x.length;){var o=d(b[N],x[Z]);o<=0?S[se++]=b[N++]:S[se++]=x[Z++]}for(;N<b.length;)S[se++]=b[N++];for(;Z<x.length;)S[se++]=x[Z++];return S}})(Je=e.TextDocument||(e.TextDocument={}));var Rt=function(){function h(C,a,l,c){this._uri=C,this._languageId=a,this._version=l,this._content=c,this._lineOffsets=void 0}return Object.defineProperty(h.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),h.prototype.getText=function(C){if(C){var a=this.offsetAt(C.start),l=this.offsetAt(C.end);return this._content.substring(a,l)}return this._content},h.prototype.update=function(C,a){this._content=C.text,this._version=a,this._lineOffsets=void 0},h.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var C=[],a=this._content,l=!0,c=0;c<a.length;c++){l&&(C.push(c),l=!1);var S=a.charAt(c);l=S==="\r"||S===`
`,S==="\r"&&c+1<a.length&&a.charAt(c+1)===`
`&&c++}l&&a.length>0&&C.push(a.length),this._lineOffsets=C}return this._lineOffsets},h.prototype.positionAt=function(C){C=Math.max(Math.min(C,this._content.length),0);var a=this.getLineOffsets(),l=0,c=a.length;if(c===0)return n.create(0,C);for(;l<c;){var S=Math.floor((l+c)/2);a[S]>C?c=S:l=S+1}var d=l-1;return n.create(d,C-a[d])},h.prototype.offsetAt=function(C){var a=this.getLineOffsets();if(C.line>=a.length)return this._content.length;if(C.line<0)return 0;var l=a[C.line],c=C.line+1<a.length?a[C.line+1]:this._content.length;return Math.max(Math.min(l+C.character,c),l)},Object.defineProperty(h.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),h}(),T;(function(h){var C=Object.prototype.toString;function a(N){return typeof N<"u"}h.defined=a;function l(N){return typeof N>"u"}h.undefined=l;function c(N){return N===!0||N===!1}h.boolean=c;function S(N){return C.call(N)==="[object String]"}h.string=S;function d(N){return C.call(N)==="[object Number]"}h.number=d;function _(N){return C.call(N)==="[object Function]"}h.func=_;function b(N){return N!==null&&typeof N=="object"}h.objectLiteral=b;function x(N,Z){return Array.isArray(N)&&N.every(Z)}h.typedArray=x})(T||(T={}))})});var Fe=L(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});var sn=Me(),Di=class extends sn.RequestType0{constructor(e){super(e)}};on.ProtocolRequestType0=Di;var bi=class extends sn.RequestType{constructor(e){super(e,sn.ParameterStructures.byName)}};on.ProtocolRequestType=bi;var Oi=class extends sn.NotificationType{constructor(e){super(e,sn.ParameterStructures.byName)}};on.ProtocolNotificationType=Oi;var ki=class extends sn.NotificationType0{constructor(e){super(e)}};on.ProtocolNotificationType0=ki});var ea=L(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});function $u(t){return t===!0||t===!1}Ye.boolean=$u;function Yo(t){return typeof t=="string"||t instanceof String}Ye.string=Yo;function Uu(t){return typeof t=="number"||t instanceof Number}Ye.number=Uu;function Gu(t){return t instanceof Error}Ye.error=Gu;function Xu(t){return typeof t=="function"}Ye.func=Xu;function Zo(t){return Array.isArray(t)}Ye.array=Zo;function Bu(t){return Zo(t)&&t.every(e=>Yo(e))}Ye.stringArray=Bu;function Ju(t,e){return Array.isArray(t)&&t.every(e)}Ye.typedArray=Ju;function Vu(t){return t!==null&&typeof t=="object"}Ye.objectLiteral=Vu});var ta=L(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var Qu=Me(),Yu=Fe(),Zu;(function(t){t.method="textDocument/implementation",t.type=new Yu.ProtocolRequestType(t.method),t.resultType=new Qu.ProgressType})(Zu=Vn.ImplementationRequest||(Vn.ImplementationRequest={}))});var na=L(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});var el=Me(),tl=Fe(),nl;(function(t){t.method="textDocument/typeDefinition",t.type=new tl.ProtocolRequestType(t.method),t.resultType=new el.ProgressType})(nl=Qn.TypeDefinitionRequest||(Qn.TypeDefinitionRequest={}))});var ia=L(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var ra=Fe(),rl;(function(t){t.type=new ra.ProtocolRequestType0("workspace/workspaceFolders")})(rl=an.WorkspaceFoldersRequest||(an.WorkspaceFoldersRequest={}));var il;(function(t){t.type=new ra.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(il=an.DidChangeWorkspaceFoldersNotification||(an.DidChangeWorkspaceFoldersNotification={}))});var sa=L(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var sl=Fe(),ol;(function(t){t.type=new sl.ProtocolRequestType("workspace/configuration")})(ol=Yn.ConfigurationRequest||(Yn.ConfigurationRequest={}))});var aa=L(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});var al=Me(),oa=Fe(),cl;(function(t){t.method="textDocument/documentColor",t.type=new oa.ProtocolRequestType(t.method),t.resultType=new al.ProgressType})(cl=cn.DocumentColorRequest||(cn.DocumentColorRequest={}));var ul;(function(t){t.type=new oa.ProtocolRequestType("textDocument/colorPresentation")})(ul=cn.ColorPresentationRequest||(cn.ColorPresentationRequest={}))});var ca=L(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var ll=Me(),dl=Fe(),fl;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(fl=un.FoldingRangeKind||(un.FoldingRangeKind={}));var hl;(function(t){t.method="textDocument/foldingRange",t.type=new dl.ProtocolRequestType(t.method),t.resultType=new ll.ProgressType})(hl=un.FoldingRangeRequest||(un.FoldingRangeRequest={}))});var ua=L(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});var pl=Me(),gl=Fe(),ml;(function(t){t.method="textDocument/declaration",t.type=new gl.ProtocolRequestType(t.method),t.resultType=new pl.ProgressType})(ml=Zn.DeclarationRequest||(Zn.DeclarationRequest={}))});var la=L(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});var vl=Me(),yl=Fe(),Cl;(function(t){t.method="textDocument/selectionRange",t.type=new yl.ProtocolRequestType(t.method),t.resultType=new vl.ProgressType})(Cl=er.SelectionRangeRequest||(er.SelectionRangeRequest={}))});var fa=L(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});var Rl=Me(),da=Fe(),_l;(function(t){t.type=new Rl.ProgressType})(_l=St.WorkDoneProgress||(St.WorkDoneProgress={}));var wl;(function(t){t.type=new da.ProtocolRequestType("window/workDoneProgress/create")})(wl=St.WorkDoneProgressCreateRequest||(St.WorkDoneProgressCreateRequest={}));var Tl;(function(t){t.type=new da.ProtocolNotificationType("window/workDoneProgress/cancel")})(Tl=St.WorkDoneProgressCancelNotification||(St.WorkDoneProgressCancelNotification={}))});var ha=L(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});var xi=Fe(),Sl;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new xi.ProtocolRequestType(t.method)})(Sl=Et.CallHierarchyPrepareRequest||(Et.CallHierarchyPrepareRequest={}));var El;(function(t){t.method="callHierarchy/incomingCalls",t.type=new xi.ProtocolRequestType(t.method)})(El=Et.CallHierarchyIncomingCallsRequest||(Et.CallHierarchyIncomingCallsRequest={}));var Pl;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new xi.ProtocolRequestType(t.method)})(Pl=Et.CallHierarchyOutgoingCallsRequest||(Et.CallHierarchyOutgoingCallsRequest={}))});var ya=L(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var Pt=ea(),ht=Me(),J=Fe(),Dl=ta();E.ImplementationRequest=Dl.ImplementationRequest;var bl=na();E.TypeDefinitionRequest=bl.TypeDefinitionRequest;var pa=ia();E.WorkspaceFoldersRequest=pa.WorkspaceFoldersRequest;E.DidChangeWorkspaceFoldersNotification=pa.DidChangeWorkspaceFoldersNotification;var Ol=sa();E.ConfigurationRequest=Ol.ConfigurationRequest;var ga=aa();E.DocumentColorRequest=ga.DocumentColorRequest;E.ColorPresentationRequest=ga.ColorPresentationRequest;var kl=ca();E.FoldingRangeRequest=kl.FoldingRangeRequest;var xl=ua();E.DeclarationRequest=xl.DeclarationRequest;var ql=la();E.SelectionRangeRequest=ql.SelectionRangeRequest;var qi=fa();E.WorkDoneProgress=qi.WorkDoneProgress;E.WorkDoneProgressCreateRequest=qi.WorkDoneProgressCreateRequest;E.WorkDoneProgressCancelNotification=qi.WorkDoneProgressCancelNotification;var Ii=ha();E.CallHierarchyIncomingCallsRequest=Ii.CallHierarchyIncomingCallsRequest;E.CallHierarchyOutgoingCallsRequest=Ii.CallHierarchyOutgoingCallsRequest;E.CallHierarchyPrepareRequest=Ii.CallHierarchyPrepareRequest;var ma;(function(t){function e(n){let r=n;return Pt.string(r.language)||Pt.string(r.scheme)||Pt.string(r.pattern)}t.is=e})(ma=E.DocumentFilter||(E.DocumentFilter={}));var va;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!Pt.string(r)&&!ma.is(r))return!1;return!0}t.is=e})(va=E.DocumentSelector||(E.DocumentSelector={}));var Il;(function(t){t.type=new J.ProtocolRequestType("client/registerCapability")})(Il=E.RegistrationRequest||(E.RegistrationRequest={}));var Nl;(function(t){t.type=new J.ProtocolRequestType("client/unregisterCapability")})(Nl=E.UnregistrationRequest||(E.UnregistrationRequest={}));var Ll;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(Ll=E.ResourceOperationKind||(E.ResourceOperationKind={}));var Fl;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Fl=E.FailureHandlingKind||(E.FailureHandlingKind={}));var Al;(function(t){function e(n){let r=n;return r&&Pt.string(r.id)&&r.id.length>0}t.hasId=e})(Al=E.StaticRegistrationOptions||(E.StaticRegistrationOptions={}));var Ml;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||va.is(r.documentSelector))}t.is=e})(Ml=E.TextDocumentRegistrationOptions||(E.TextDocumentRegistrationOptions={}));var jl;(function(t){function e(r){let i=r;return Pt.objectLiteral(i)&&(i.workDoneProgress===void 0||Pt.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&Pt.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(jl=E.WorkDoneProgressOptions||(E.WorkDoneProgressOptions={}));var Hl;(function(t){t.type=new J.ProtocolRequestType("initialize")})(Hl=E.InitializeRequest||(E.InitializeRequest={}));var Wl;(function(t){t.unknownProtocolVersion=1})(Wl=E.InitializeError||(E.InitializeError={}));var Kl;(function(t){t.type=new J.ProtocolNotificationType("initialized")})(Kl=E.InitializedNotification||(E.InitializedNotification={}));var zl;(function(t){t.type=new J.ProtocolRequestType0("shutdown")})(zl=E.ShutdownRequest||(E.ShutdownRequest={}));var $l;(function(t){t.type=new J.ProtocolNotificationType0("exit")})($l=E.ExitNotification||(E.ExitNotification={}));var Ul;(function(t){t.type=new J.ProtocolNotificationType("workspace/didChangeConfiguration")})(Ul=E.DidChangeConfigurationNotification||(E.DidChangeConfigurationNotification={}));var Gl;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(Gl=E.MessageType||(E.MessageType={}));var Xl;(function(t){t.type=new J.ProtocolNotificationType("window/showMessage")})(Xl=E.ShowMessageNotification||(E.ShowMessageNotification={}));var Bl;(function(t){t.type=new J.ProtocolRequestType("window/showMessageRequest")})(Bl=E.ShowMessageRequest||(E.ShowMessageRequest={}));var Jl;(function(t){t.type=new J.ProtocolNotificationType("window/logMessage")})(Jl=E.LogMessageNotification||(E.LogMessageNotification={}));var Vl;(function(t){t.type=new J.ProtocolNotificationType("telemetry/event")})(Vl=E.TelemetryEventNotification||(E.TelemetryEventNotification={}));var Ql;(function(t){t.None=0,t.Full=1,t.Incremental=2})(Ql=E.TextDocumentSyncKind||(E.TextDocumentSyncKind={}));var Yl;(function(t){t.method="textDocument/didOpen",t.type=new J.ProtocolNotificationType(t.method)})(Yl=E.DidOpenTextDocumentNotification||(E.DidOpenTextDocumentNotification={}));var Zl;(function(t){t.method="textDocument/didChange",t.type=new J.ProtocolNotificationType(t.method)})(Zl=E.DidChangeTextDocumentNotification||(E.DidChangeTextDocumentNotification={}));var ed;(function(t){t.method="textDocument/didClose",t.type=new J.ProtocolNotificationType(t.method)})(ed=E.DidCloseTextDocumentNotification||(E.DidCloseTextDocumentNotification={}));var td;(function(t){t.method="textDocument/didSave",t.type=new J.ProtocolNotificationType(t.method)})(td=E.DidSaveTextDocumentNotification||(E.DidSaveTextDocumentNotification={}));var nd;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(nd=E.TextDocumentSaveReason||(E.TextDocumentSaveReason={}));var rd;(function(t){t.method="textDocument/willSave",t.type=new J.ProtocolNotificationType(t.method)})(rd=E.WillSaveTextDocumentNotification||(E.WillSaveTextDocumentNotification={}));var id;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new J.ProtocolRequestType(t.method)})(id=E.WillSaveTextDocumentWaitUntilRequest||(E.WillSaveTextDocumentWaitUntilRequest={}));var sd;(function(t){t.type=new J.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(sd=E.DidChangeWatchedFilesNotification||(E.DidChangeWatchedFilesNotification={}));var od;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(od=E.FileChangeType||(E.FileChangeType={}));var ad;(function(t){t.Create=1,t.Change=2,t.Delete=4})(ad=E.WatchKind||(E.WatchKind={}));var cd;(function(t){t.type=new J.ProtocolNotificationType("textDocument/publishDiagnostics")})(cd=E.PublishDiagnosticsNotification||(E.PublishDiagnosticsNotification={}));var ud;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(ud=E.CompletionTriggerKind||(E.CompletionTriggerKind={}));var ld;(function(t){t.method="textDocument/completion",t.type=new J.ProtocolRequestType(t.method),t.resultType=new ht.ProgressType})(ld=E.CompletionRequest||(E.CompletionRequest={}));var dd;(function(t){t.method="completionItem/resolve",t.type=new J.ProtocolRequestType(t.method)})(dd=E.CompletionResolveRequest||(E.CompletionResolveRequest={}));var fd;(function(t){t.method="textDocument/hover",t.type=new J.ProtocolRequestType(t.method)})(fd=E.HoverRequest||(E.HoverRequest={}));var hd;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(hd=E.SignatureHelpTriggerKind||(E.SignatureHelpTriggerKind={}));var pd;(function(t){t.method="textDocument/signatureHelp",t.type=new J.ProtocolRequestType(t.method)})(pd=E.SignatureHelpRequest||(E.SignatureHelpRequest={}));var gd;(function(t){t.method="textDocument/definition",t.type=new J.ProtocolRequestType(t.method),t.resultType=new ht.ProgressType})(gd=E.DefinitionRequest||(E.DefinitionRequest={}));var md;(function(t){t.method="textDocument/references",t.type=new J.ProtocolRequestType(t.method),t.resultType=new ht.ProgressType})(md=E.ReferencesRequest||(E.ReferencesRequest={}));var vd;(function(t){t.method="textDocument/documentHighlight",t.type=new J.ProtocolRequestType(t.method),t.resultType=new ht.ProgressType})(vd=E.DocumentHighlightRequest||(E.DocumentHighlightRequest={}));var yd;(function(t){t.method="textDocument/documentSymbol",t.type=new J.ProtocolRequestType(t.method),t.resultType=new ht.ProgressType})(yd=E.DocumentSymbolRequest||(E.DocumentSymbolRequest={}));var Cd;(function(t){t.method="textDocument/codeAction",t.type=new J.ProtocolRequestType(t.method),t.resultType=new ht.ProgressType})(Cd=E.CodeActionRequest||(E.CodeActionRequest={}));var Rd;(function(t){t.method="workspace/symbol",t.type=new J.ProtocolRequestType(t.method),t.resultType=new ht.ProgressType})(Rd=E.WorkspaceSymbolRequest||(E.WorkspaceSymbolRequest={}));var _d;(function(t){t.type=new J.ProtocolRequestType("textDocument/codeLens"),t.resultType=new ht.ProgressType})(_d=E.CodeLensRequest||(E.CodeLensRequest={}));var wd;(function(t){t.type=new J.ProtocolRequestType("codeLens/resolve")})(wd=E.CodeLensResolveRequest||(E.CodeLensResolveRequest={}));var Td;(function(t){t.method="textDocument/documentLink",t.type=new J.ProtocolRequestType(t.method),t.resultType=new ht.ProgressType})(Td=E.DocumentLinkRequest||(E.DocumentLinkRequest={}));var Sd;(function(t){t.type=new J.ProtocolRequestType("documentLink/resolve")})(Sd=E.DocumentLinkResolveRequest||(E.DocumentLinkResolveRequest={}));var Ed;(function(t){t.method="textDocument/formatting",t.type=new J.ProtocolRequestType(t.method)})(Ed=E.DocumentFormattingRequest||(E.DocumentFormattingRequest={}));var Pd;(function(t){t.method="textDocument/rangeFormatting",t.type=new J.ProtocolRequestType(t.method)})(Pd=E.DocumentRangeFormattingRequest||(E.DocumentRangeFormattingRequest={}));var Dd;(function(t){t.method="textDocument/onTypeFormatting",t.type=new J.ProtocolRequestType(t.method)})(Dd=E.DocumentOnTypeFormattingRequest||(E.DocumentOnTypeFormattingRequest={}));var bd;(function(t){t.method="textDocument/rename",t.type=new J.ProtocolRequestType(t.method)})(bd=E.RenameRequest||(E.RenameRequest={}));var Od;(function(t){t.method="textDocument/prepareRename",t.type=new J.ProtocolRequestType(t.method)})(Od=E.PrepareRenameRequest||(E.PrepareRenameRequest={}));var kd;(function(t){t.type=new J.ProtocolRequestType("workspace/executeCommand")})(kd=E.ExecuteCommandRequest||(E.ExecuteCommandRequest={}));var xd;(function(t){t.type=new J.ProtocolRequestType("workspace/applyEdit")})(xd=E.ApplyWorkspaceEditRequest||(E.ApplyWorkspaceEditRequest={}))});var Ra=L(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});var Ca=Me();function qd(t,e,n,r){return Ca.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Ca.createMessageConnection(t,e,n,r)}Ni.createProtocolConnection=qd});var Fi=L(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var Li=Fe(),Id;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.member="member",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(Id=De.SemanticTokenTypes||(De.SemanticTokenTypes={}));var Nd;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Nd=De.SemanticTokenModifiers||(De.SemanticTokenModifiers={}));var Ld;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Ld=De.SemanticTokens||(De.SemanticTokens={}));var Fd;(function(t){t.Relative="relative"})(Fd=De.TokenFormat||(De.TokenFormat={}));var Ad;(function(t){t.method="textDocument/semanticTokens/full",t.type=new Li.ProtocolRequestType(t.method)})(Ad=De.SemanticTokensRequest||(De.SemanticTokensRequest={}));var Md;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new Li.ProtocolRequestType(t.method)})(Md=De.SemanticTokensDeltaRequest||(De.SemanticTokensDeltaRequest={}));var jd;(function(t){t.method="textDocument/semanticTokens/range",t.type=new Li.ProtocolRequestType(t.method)})(jd=De.SemanticTokensRangeRequest||(De.SemanticTokensRangeRequest={}))});var _a=L(Kt=>{"use strict";function tr(t){for(var e in t)Kt.hasOwnProperty(e)||(Kt[e]=t[e])}Object.defineProperty(Kt,"__esModule",{value:!0});tr(Me());tr(Qo());tr(Fe());tr(ya());var Hd=Ra();Kt.createProtocolConnection=Hd.createProtocolConnection;var pt=Fi(),Wd;(function(t){t.SemanticTokenTypes=pt.SemanticTokenTypes,t.SemanticTokenModifiers=pt.SemanticTokenModifiers,t.SemanticTokens=pt.SemanticTokens;let e;(function(i){i.method=pt.SemanticTokensRequest.method,i.type=pt.SemanticTokensRequest.type})(e=t.SemanticTokensRequest||(t.SemanticTokensRequest={}));let n;(function(i){i.method=pt.SemanticTokensDeltaRequest.method,i.type=pt.SemanticTokensDeltaRequest.type})(n=t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={}));let r;(function(i){i.method=pt.SemanticTokensRangeRequest.method,i.type=pt.SemanticTokensRangeRequest.type})(r=t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={}))})(Wd=Kt.Proposed||(Kt.Proposed={}))});var ye=L(Tn=>{"use strict";function wa(t){for(var e in t)Tn.hasOwnProperty(e)||(Tn[e]=t[e])}Object.defineProperty(Tn,"__esModule",{value:!0});var Kd=Bn();wa(Bn());wa(_a());function zd(t,e,n,r){return Kd.createMessageConnection(t,e,n,r)}Tn.createProtocolConnection=zd});var ji=L(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});var Ai=require("vscode"),$d=ye(),Mi=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest($d.ConfigurationRequest.type,(n,r)=>{let i=u=>{let p=[];for(let f of u.items){let m=f.scopeUri!==void 0&&f.scopeUri!==null?this._client.protocol2CodeConverter.asUri(f.scopeUri):void 0;p.push(this.getConfiguration(m,f.section!==null?f.section:void 0))}return p},s=e.clientOptions.middleware.workspace;return s&&s.configuration?s.configuration(n,r,i):i(n,r)})}getConfiguration(e,n){let r=null;if(n){let i=n.lastIndexOf(".");if(i===-1)r=ln(Ai.workspace.getConfiguration(void 0,e).get(n));else{let s=Ai.workspace.getConfiguration(n.substr(0,i),e);s&&(r=ln(s.get(n.substr(i+1))))}}else{let i=Ai.workspace.getConfiguration(void 0,e);r={};for(let s of Object.keys(i))i.has(s)&&(r[s]=ln(i.get(s)))}return r===void 0&&(r=null),r}};nr.ConfigurationFeature=Mi;function ln(t){if(t){if(Array.isArray(t))return t.map(ln);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=ln(t[n]));return e}}return t}nr.toJSONObject=ln});var Ki=L(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});var Ud=require("vscode"),Hi=class extends Ud.CompletionItem{constructor(e){super(e)}};Wi.default=Hi});var Ui=L($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var Gd=require("vscode"),zi=class extends Gd.CodeLens{constructor(e){super(e)}};$i.default=zi});var Bi=L(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});var Xd=require("vscode"),Gi=class extends Xd.DocumentLink{constructor(e,n){super(e,n)}};Xi.default=Gi});var Ta=L(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});var we=require("vscode"),oe=ye(),Sn=Vt(),Bd=Ki(),Jd=Ui(),Vd=Bi(),Ji;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(Ji||(Ji={}));function Qd(t){let n=t||(a=>a.toString());function r(a){return n(a)}function i(a){return{uri:n(a.uri)}}function s(a){return{uri:n(a.uri),version:a.version}}function u(a){return{textDocument:{uri:n(a.uri),languageId:a.languageId,version:a.version,text:a.getText()}}}function p(a){let l=a;return!!l.document&&!!l.contentChanges}function f(a){let l=a;return!!l.uri&&!!l.version}function m(a){if(f(a))return{textDocument:{uri:n(a.uri),version:a.version},contentChanges:[{text:a.getText()}]};if(p(a)){let l=a.document;return{textDocument:{uri:n(l.uri),version:l.version},contentChanges:a.contentChanges.map(S=>{let d=S.range;return{range:{start:{line:d.start.line,character:d.start.character},end:{line:d.end.line,character:d.end.character}},rangeLength:S.rangeLength,text:S.text}})}}else throw Error("Unsupported text document change parameter")}function R(a){return{textDocument:i(a)}}function y(a,l=!1){let c={textDocument:s(a)};return l&&(c.text=a.getText()),c}function P(a){switch(a){case we.TextDocumentSaveReason.Manual:return oe.TextDocumentSaveReason.Manual;case we.TextDocumentSaveReason.AfterDelay:return oe.TextDocumentSaveReason.AfterDelay;case we.TextDocumentSaveReason.FocusOut:return oe.TextDocumentSaveReason.FocusOut}return oe.TextDocumentSaveReason.Manual}function k(a){return{textDocument:i(a.document),reason:P(a.reason)}}function G(a,l){return{textDocument:i(a),position:qe(l)}}function K(a){switch(a){case we.CompletionTriggerKind.TriggerCharacter:return oe.CompletionTriggerKind.TriggerCharacter;case we.CompletionTriggerKind.TriggerForIncompleteCompletions:return oe.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return oe.CompletionTriggerKind.Invoked}}function X(a,l,c){return{textDocument:i(a),position:qe(l),context:{triggerKind:K(c.triggerKind),triggerCharacter:c.triggerCharacter}}}function M(a){switch(a){case we.SignatureHelpTriggerKind.Invoke:return oe.SignatureHelpTriggerKind.Invoked;case we.SignatureHelpTriggerKind.TriggerCharacter:return oe.SignatureHelpTriggerKind.TriggerCharacter;case we.SignatureHelpTriggerKind.ContentChange:return oe.SignatureHelpTriggerKind.ContentChange}}function q(a){return{label:a.label}}function j(a){return a.map(q)}function z(a){return{label:a.label,parameters:j(a.parameters)}}function Ce(a){return a.map(z)}function et(a){return a===void 0?a:{signatures:Ce(a.signatures),activeSignature:a.activeSignature,activeParameter:a.activeParameter}}function He(a,l,c){return{textDocument:i(a),position:qe(l),context:{isRetrigger:c.isRetrigger,triggerCharacter:c.triggerCharacter,triggerKind:M(c.triggerKind),activeSignatureHelp:et(c.activeSignatureHelp)}}}function qe(a){return{line:a.line,character:a.character}}function be(a){return a==null?a:{line:a.line,character:a.character}}function tt(a){let l=[];for(let c of a)l.push(be(c));return l}function ve(a){return a==null?a:{start:be(a.start),end:be(a.end)}}function We(a){return a==null?a:oe.Location.create(r(a.uri),ve(a.range))}function nt(a){switch(a){case we.DiagnosticSeverity.Error:return oe.DiagnosticSeverity.Error;case we.DiagnosticSeverity.Warning:return oe.DiagnosticSeverity.Warning;case we.DiagnosticSeverity.Information:return oe.DiagnosticSeverity.Information;case we.DiagnosticSeverity.Hint:return oe.DiagnosticSeverity.Hint}}function gt(a){if(!a)return;let l=[];for(let c of a){let S=Ke(c);S!==void 0&&l.push(S)}return l.length>0?l:void 0}function Ke(a){switch(a){case we.DiagnosticTag.Unnecessary:return oe.DiagnosticTag.Unnecessary;case we.DiagnosticTag.Deprecated:return oe.DiagnosticTag.Deprecated;default:return}}function kt(a){return{message:a.message,location:We(a.location)}}function mt(a){return a.map(kt)}function it(a){if(a!=null)return Sn.number(a)||Sn.string(a)?a:{value:a.value,target:r(a.target)}}function Ie(a){let l=oe.Diagnostic.create(ve(a.range),a.message);return Sn.number(a.severity)&&(l.severity=nt(a.severity)),l.code=it(a.code),Array.isArray(a.tags)&&(l.tags=gt(a.tags)),a.relatedInformation&&(l.relatedInformation=mt(a.relatedInformation)),a.source&&(l.source=a.source),l}function Xe(a){return a==null?a:a.map(Ie)}function xt(a,l){switch(a){case"$string":return l;case oe.MarkupKind.PlainText:return{kind:a,value:l};case oe.MarkupKind.Markdown:return{kind:a,value:l.value};default:return`Unsupported Markup content received. Kind is: ${a}`}}function vt(a){switch(a){case we.CompletionItemTag.Deprecated:return oe.CompletionItemTag.Deprecated}}function st(a){if(a===void 0)return a;let l=[];for(let c of a){let S=vt(c);S!==void 0&&l.push(S)}return l}function qt(a,l){return l!==void 0?l:a+1}function ot(a){let l={label:a.label},c=a instanceof Bd.default?a:void 0;a.detail&&(l.detail=a.detail),a.documentation&&(!c||c.documentationFormat==="$string"?l.documentation=a.documentation:l.documentation=xt(c.documentationFormat,a.documentation)),a.filterText&&(l.filterText=a.filterText),yt(l,a),Sn.number(a.kind)&&(l.kind=qt(a.kind,c&&c.originalItemKind)),a.sortText&&(l.sortText=a.sortText),a.additionalTextEdits&&(l.additionalTextEdits=It(a.additionalTextEdits)),a.commitCharacters&&(l.commitCharacters=a.commitCharacters.slice()),a.command&&(l.command=Be(a.command)),(a.preselect===!0||a.preselect===!1)&&(l.preselect=a.preselect);let S=st(a.tags);if(c&&(c.data!==void 0&&(l.data=c.data),c.deprecated===!0||c.deprecated===!1)){if(c.deprecated===!0&&S!==void 0&&S.length>0){let d=S.indexOf(we.CompletionItemTag.Deprecated);d!==-1&&S.splice(d,1)}l.deprecated=c.deprecated}return S!==void 0&&S.length>0&&(l.tags=S),l}function yt(a,l){let c=oe.InsertTextFormat.PlainText,S,d;l.textEdit?(S=l.textEdit.newText,d=l.textEdit.range):l.insertText instanceof we.SnippetString?(c=oe.InsertTextFormat.Snippet,S=l.insertText.value):S=l.insertText,l.range&&(d=l.range),a.insertTextFormat=c,l.fromEdit&&S!==void 0&&d!==void 0?a.textEdit=Ct(S,d):a.insertText=S}function Ct(a,l){return Ji.is(l)?oe.InsertReplaceEdit.create(a,ve(l.inserting),ve(l.replacing)):{newText:a,range:ve(l)}}function at(a){return{range:ve(a.range),newText:a.newText}}function It(a){return a==null?a:a.map(at)}function ct(a){return a<=we.SymbolKind.TypeParameter?a+1:oe.SymbolKind.Property}function ut(a){return a}function Ne(a){return a.map(ut)}function Nt(a,l,c){return{textDocument:i(a),position:qe(l),context:{includeDeclaration:c.includeDeclaration}}}function Oe(a){if(a==null)return a;let l;return a.only&&Sn.string(a.only.value)&&(l=[a.only.value]),oe.CodeActionContext.create(Xe(a.diagnostics),l)}function Be(a){let l=oe.Command.create(a.title,a.command);return a.arguments&&(l.arguments=a.arguments),l}function ze(a){let l=oe.CodeLens.create(ve(a.range));return a.command&&(l.command=Be(a.command)),a instanceof Jd.default&&a.data&&(l.data=a.data),l}function Je(a){return{tabSize:a.tabSize,insertSpaces:a.insertSpaces}}function Rt(a){return{textDocument:i(a)}}function T(a){return{textDocument:i(a)}}function h(a){let l=oe.DocumentLink.create(ve(a.range));a.target&&(l.target=r(a.target)),a.tooltip!==void 0&&(l.tooltip=a.tooltip);let c=a instanceof Vd.default?a:void 0;return c&&c.data&&(l.data=c.data),l}function C(a){return{textDocument:i(a)}}return{asUri:r,asTextDocumentIdentifier:i,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:u,asChangeTextDocumentParams:m,asCloseTextDocumentParams:R,asSaveTextDocumentParams:y,asWillSaveTextDocumentParams:k,asTextDocumentPositionParams:G,asCompletionParams:X,asSignatureHelpParams:He,asWorkerPosition:qe,asRange:ve,asPosition:be,asPositions:tt,asLocation:We,asDiagnosticSeverity:nt,asDiagnosticTag:Ke,asDiagnostic:Ie,asDiagnostics:Xe,asCompletionItem:ot,asTextEdit:at,asSymbolKind:ct,asSymbolTag:ut,asSymbolTags:Ne,asReferenceParams:Nt,asCodeActionContext:Oe,asCommand:Be,asCodeLens:ze,asFormattingOptions:Je,asDocumentSymbolParams:Rt,asCodeLensParams:T,asDocumentLink:h,asDocumentLinkParams:C}}Vi.createConverter=Qd});var Sa=L(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});var I=require("vscode"),Y=ye(),je=Vt(),Yd=Ki(),Zd=Ui(),ef=Bi(),rr;(function(t){function e(n){let r=n;return r&&je.string(r.language)&&je.string(r.value)}t.is=e})(rr||(rr={}));function tf(t){let n=t||(o=>I.Uri.parse(o));function r(o){return n(o)}function i(o){return o.map(s)}function s(o){let v=new I.Diagnostic(y(o.range),o.message,k(o.severity));return(je.number(o.code)||je.string(o.code))&&(v.code=o.code),Y.DiagnosticCode.is(o.code)&&(v.code={value:o.code.value,target:r(o.code.target)}),o.source&&(v.source=o.source),o.relatedInformation&&(v.relatedInformation=u(o.relatedInformation)),Array.isArray(o.tags)&&(v.tags=f(o.tags)),v}function u(o){return o.map(p)}function p(o){return new I.DiagnosticRelatedInformation(Ke(o.location),o.message)}function f(o){if(!o)return;let v=[];for(let O of o){let F=m(O);F!==void 0&&v.push(F)}return v.length>0?v:void 0}function m(o){switch(o){case Y.DiagnosticTag.Unnecessary:return I.DiagnosticTag.Unnecessary;case Y.DiagnosticTag.Deprecated:return I.DiagnosticTag.Deprecated;default:return}}function R(o){if(!!o)return new I.Position(o.line,o.character)}function y(o){if(!!o)return new I.Range(R(o.start),R(o.end))}function P(o){return o.map(v=>y(v))}function k(o){if(o==null)return I.DiagnosticSeverity.Error;switch(o){case Y.DiagnosticSeverity.Error:return I.DiagnosticSeverity.Error;case Y.DiagnosticSeverity.Warning:return I.DiagnosticSeverity.Warning;case Y.DiagnosticSeverity.Information:return I.DiagnosticSeverity.Information;case Y.DiagnosticSeverity.Hint:return I.DiagnosticSeverity.Hint}return I.DiagnosticSeverity.Error}function G(o){if(je.string(o))return new I.MarkdownString(o);if(rr.is(o))return new I.MarkdownString().appendCodeblock(o.value,o.language);if(Array.isArray(o)){let v=[];for(let O of o){let F=new I.MarkdownString;rr.is(O)?F.appendCodeblock(O.value,O.language):F.appendMarkdown(O),v.push(F)}return v}else{let v;switch(o.kind){case Y.MarkupKind.Markdown:return new I.MarkdownString(o.value);case Y.MarkupKind.PlainText:return v=new I.MarkdownString,v.appendText(o.value),v;default:return v=new I.MarkdownString,v.appendText(`Unsupported Markup content received. Kind is: ${o.kind}`),v}}}function K(o){if(je.string(o))return o;switch(o.kind){case Y.MarkupKind.Markdown:return new I.MarkdownString(o.value);case Y.MarkupKind.PlainText:return o.value;default:return`Unsupported Markup content received. Kind is: ${o.kind}`}}function X(o){if(!!o)return new I.Hover(G(o.contents),y(o.range))}function M(o){if(!o)return;if(Array.isArray(o))return o.map(Ce);let v=o;return new I.CompletionList(v.items.map(Ce),v.isIncomplete)}function q(o){return Y.CompletionItemKind.Text<=o&&o<=Y.CompletionItemKind.TypeParameter?[o-1,void 0]:[I.CompletionItemKind.Text,o]}function j(o){switch(o){case Y.CompletionItemTag.Deprecated:return I.CompletionItemTag.Deprecated}}function z(o){if(o==null)return[];let v=[];for(let O of o){let F=j(O);F!==void 0&&v.push(F)}return v}function Ce(o){let v=z(o.tags),O=new Yd.default(o.label);o.detail&&(O.detail=o.detail),o.documentation&&(O.documentation=K(o.documentation),O.documentationFormat=je.string(o.documentation)?"$string":o.documentation.kind),o.filterText&&(O.filterText=o.filterText);let F=et(o);if(F&&(O.insertText=F.text,O.range=F.range,O.fromEdit=F.fromEdit),je.number(o.kind)){let[he,Te]=q(o.kind);O.kind=he,Te&&(O.originalItemKind=Te)}return o.sortText&&(O.sortText=o.sortText),o.additionalTextEdits&&(O.additionalTextEdits=be(o.additionalTextEdits)),je.stringArray(o.commitCharacters)&&(O.commitCharacters=o.commitCharacters.slice()),o.command&&(O.command=Ne(o.command)),(o.deprecated===!0||o.deprecated===!1)&&(O.deprecated=o.deprecated,o.deprecated===!0&&v.push(I.CompletionItemTag.Deprecated)),(o.preselect===!0||o.preselect===!1)&&(O.preselect=o.preselect),o.data!==void 0&&(O.data=o.data),v.length>0&&(O.tags=v),O}function et(o){return o.textEdit?o.insertTextFormat===Y.InsertTextFormat.Snippet?{text:new I.SnippetString(o.textEdit.newText),range:He(o.textEdit),fromEdit:!0}:{text:o.textEdit.newText,range:He(o.textEdit),fromEdit:!0}:o.insertText?o.insertTextFormat===Y.InsertTextFormat.Snippet?{text:new I.SnippetString(o.insertText),fromEdit:!1}:{text:o.insertText,fromEdit:!1}:void 0}function He(o){return Y.InsertReplaceEdit.is(o)?{inserting:y(o.insert),replacing:y(o.replace)}:y(o.range)}function qe(o){if(!!o)return new I.TextEdit(y(o.range),o.newText)}function be(o){if(!!o)return o.map(qe)}function tt(o){if(!o)return;let v=new I.SignatureHelp;return je.number(o.activeSignature)?v.activeSignature=o.activeSignature:v.activeSignature=0,je.number(o.activeParameter)?v.activeParameter=o.activeParameter:v.activeParameter=0,o.signatures&&(v.signatures=ve(o.signatures)),v}function ve(o){return o.map(We)}function We(o){let v=new I.SignatureInformation(o.label);return o.documentation!==void 0&&(v.documentation=K(o.documentation)),o.parameters!==void 0&&(v.parameters=nt(o.parameters)),o.activeParameter!==void 0&&(v.activeParameter=o.activeParameter),v}function nt(o){return o.map(gt)}function gt(o){let v=new I.ParameterInformation(o.label);return o.documentation&&(v.documentation=K(o.documentation)),v}function Ke(o){if(!!o)return new I.Location(n(o.uri),y(o.range))}function kt(o){if(!!o)return Ie(o)}function mt(o){if(!!o)return Ie(o)}function it(o){if(!o)return;let v={targetUri:n(o.targetUri),targetRange:y(o.targetSelectionRange),originSelectionRange:y(o.originSelectionRange),targetSelectionRange:y(o.targetSelectionRange)};if(!v.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return v}function Ie(o){if(!!o)return je.array(o)?o.length===0?[]:Y.LocationLink.is(o[0])?o.map(O=>it(O)):o.map(O=>Ke(O)):Y.LocationLink.is(o)?[it(o)]:Ke(o)}function Xe(o){if(!!o)return o.map(v=>Ke(v))}function xt(o){if(!!o)return o.map(vt)}function vt(o){let v=new I.DocumentHighlight(y(o.range));return je.number(o.kind)&&(v.kind=st(o.kind)),v}function st(o){switch(o){case Y.DocumentHighlightKind.Text:return I.DocumentHighlightKind.Text;case Y.DocumentHighlightKind.Read:return I.DocumentHighlightKind.Read;case Y.DocumentHighlightKind.Write:return I.DocumentHighlightKind.Write}return I.DocumentHighlightKind.Text}function qt(o,v){if(!!o)return o.map(O=>at(O,v))}function ot(o){return o<=Y.SymbolKind.TypeParameter?o-1:I.SymbolKind.Property}function yt(o){switch(o){case Y.SymbolTag.Deprecated:return I.SymbolTag.Deprecated;default:return}}function Ct(o){if(o==null)return;let v=[];for(let O of o){let F=yt(O);F!==void 0&&v.push(F)}return v.length===0?void 0:v}function at(o,v){let O=new I.SymbolInformation(o.name,ot(o.kind),y(o.location.range),o.location.uri?n(o.location.uri):v);return ut(O,o),o.containerName&&(O.containerName=o.containerName),O}function It(o){if(o!=null)return o.map(ct)}function ct(o){let v=new I.DocumentSymbol(o.name,o.detail||"",ot(o.kind),y(o.range),y(o.selectionRange));if(ut(v,o),o.children!==void 0&&o.children.length>0){let O=[];for(let F of o.children)O.push(ct(F));v.children=O}return v}function ut(o,v){o.tags=Ct(v.tags),v.deprecated&&(o.tags?o.tags.includes(I.SymbolTag.Deprecated)||(o.tags=o.tags.concat(I.SymbolTag.Deprecated)):o.tags=[I.SymbolTag.Deprecated])}function Ne(o){let v={title:o.title,command:o.command};return o.arguments&&(v.arguments=o.arguments),v}function Nt(o){if(!!o)return o.map(Ne)}let Oe=new Map;Oe.set(Y.CodeActionKind.Empty,I.CodeActionKind.Empty),Oe.set(Y.CodeActionKind.QuickFix,I.CodeActionKind.QuickFix),Oe.set(Y.CodeActionKind.Refactor,I.CodeActionKind.Refactor),Oe.set(Y.CodeActionKind.RefactorExtract,I.CodeActionKind.RefactorExtract),Oe.set(Y.CodeActionKind.RefactorInline,I.CodeActionKind.RefactorInline),Oe.set(Y.CodeActionKind.RefactorRewrite,I.CodeActionKind.RefactorRewrite),Oe.set(Y.CodeActionKind.Source,I.CodeActionKind.Source),Oe.set(Y.CodeActionKind.SourceOrganizeImports,I.CodeActionKind.SourceOrganizeImports);function Be(o){if(o==null)return;let v=Oe.get(o);if(v)return v;let O=o.split(".");v=I.CodeActionKind.Empty;for(let F of O)v=v.append(F);return v}function ze(o){if(o!=null)return o.map(v=>Be(v))}function Je(o){if(o==null)return;let v=new I.CodeAction(o.title);return o.kind!==void 0&&(v.kind=Be(o.kind)),o.diagnostics&&(v.diagnostics=i(o.diagnostics)),o.edit&&(v.edit=h(o.edit)),o.command&&(v.command=Ne(o.command)),o.isPreferred!==void 0&&(v.isPreferred=o.isPreferred),v}function Rt(o){if(!o)return;let v=new Zd.default(y(o.range));return o.command&&(v.command=Ne(o.command)),o.data!==void 0&&o.data!==null&&(v.data=o.data),v}function T(o){if(!!o)return o.map(v=>Rt(v))}function h(o){if(!o)return;let v=new I.WorkspaceEdit;return o.documentChanges?o.documentChanges.forEach(O=>{if(Y.CreateFile.is(O))v.createFile(n(O.uri),O.options);else if(Y.RenameFile.is(O))v.renameFile(n(O.oldUri),n(O.newUri),O.options);else if(Y.DeleteFile.is(O))v.deleteFile(n(O.uri),O.options);else if(Y.TextDocumentEdit.is(O))v.set(n(O.textDocument.uri),be(O.edits));else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(O,void 0,4)}`)}):o.changes&&Object.keys(o.changes).forEach(O=>{v.set(n(O),be(o.changes[O]))}),v}function C(o){let v=y(o.range),O=o.target?r(o.target):void 0,F=new ef.default(v,O);return o.tooltip!==void 0&&(F.tooltip=o.tooltip),o.data!==void 0&&o.data!==null&&(F.data=o.data),F}function a(o){if(!!o)return o.map(C)}function l(o){return new I.Color(o.red,o.green,o.blue,o.alpha)}function c(o){return new I.ColorInformation(y(o.range),l(o.color))}function S(o){if(Array.isArray(o))return o.map(c)}function d(o){let v=new I.ColorPresentation(o.label);return v.additionalTextEdits=be(o.additionalTextEdits),o.textEdit&&(v.textEdit=qe(o.textEdit)),v}function _(o){if(Array.isArray(o))return o.map(d)}function b(o){if(o)switch(o){case Y.FoldingRangeKind.Comment:return I.FoldingRangeKind.Comment;case Y.FoldingRangeKind.Imports:return I.FoldingRangeKind.Imports;case Y.FoldingRangeKind.Region:return I.FoldingRangeKind.Region}}function x(o){return new I.FoldingRange(o.startLine,o.endLine,b(o.kind))}function N(o){if(Array.isArray(o))return o.map(x)}function Z(o){return new I.SelectionRange(y(o.range),o.parent?Z(o.parent):void 0)}function se(o){if(!Array.isArray(o))return[];let v=[];for(let O of o)v.push(Z(O));return v}return{asUri:r,asDiagnostics:i,asDiagnostic:s,asRange:y,asRanges:P,asPosition:R,asDiagnosticSeverity:k,asDiagnosticTag:m,asHover:X,asCompletionResult:M,asCompletionItem:Ce,asTextEdit:qe,asTextEdits:be,asSignatureHelp:tt,asSignatureInformations:ve,asSignatureInformation:We,asParameterInformations:nt,asParameterInformation:gt,asDeclarationResult:kt,asDefinitionResult:mt,asLocation:Ke,asReferences:Xe,asDocumentHighlights:xt,asDocumentHighlight:vt,asDocumentHighlightKind:st,asSymbolKind:ot,asSymbolTag:yt,asSymbolTags:Ct,asSymbolInformations:qt,asSymbolInformation:at,asDocumentSymbols:It,asDocumentSymbol:ct,asCommand:Ne,asCommands:Nt,asCodeAction:Je,asCodeActionKind:Be,asCodeActionKinds:ze,asCodeLens:Rt,asCodeLenses:T,asWorkspaceEdit:h,asDocumentLink:C,asDocumentLinks:a,asFoldingRangeKind:b,asFoldingRange:x,asFoldingRanges:N,asColor:l,asColorInformation:c,asColorInformations:S,asColorPresentation:d,asColorPresentations:_,asSelectionRange:Z,asSelectionRanges:se}}Qi.createConverter=tf});var Pa=L(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});var Ea=ye(),Yi=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=Ea.RAL().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(Ea.RAL().timer.clearTimeout(this.timeout),this.timeout=void 0)}};Zi.Delayer=Yi});var es=L(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var En=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},V=class extends En{constructor(){super([V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),"-",V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),"-","4",V._randomHex(),V._randomHex(),V._randomHex(),"-",V._oneOf(V._timeHighBits),V._randomHex(),V._randomHex(),V._randomHex(),"-",V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex(),V._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return V._oneOf(V._chars)}};V._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];V._timeHighBits=["8","9","a","b"];zt.empty=new En("00000000-0000-0000-0000-000000000000");function Da(){return new V}zt.v4=Da;var nf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function ba(t){return nf.test(t)}zt.isUUID=ba;function rf(t){if(!ba(t))throw new Error("invalid uuid");return new En(t)}zt.parse=rf;function sf(){return Da().asHex()}zt.generateUuid=sf});var is=L(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});var ts=require("vscode"),Oa=ye(),ka=Vt(),ns=class{constructor(e,n){this._client=e,this._token=n,this._reported=0,this._disposable=this._client.onProgress(Oa.WorkDoneProgress.type,this._token,r=>{switch(r.kind){case"begin":this.begin(r);break;case"report":this.report(r);break;case"end":this.done();break}})}begin(e){let n=e.cancellable?ts.ProgressLocation.Notification:ts.ProgressLocation.Window;ts.window.withProgress({location:n,cancellable:e.cancellable,title:e.title},async(r,i)=>(this._progress=r,this._infinite=e.percentage===void 0,this._cancellationToken=i,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Oa.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((s,u)=>{this._resolve=s,this._reject=u})))}report(e){if(this._infinite&&ka.string(e.message))this._progress.report({message:e.message});else if(ka.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._progress.report({message:e.message,increment:r}),this._reported+=r}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}};rs.ProgressPart=ns});var Ge=L(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});var A=require("vscode"),g=ye(),of=ji(),af=Ta(),cf=Sa(),ce=Vt(),xa=Pa(),ae=es(),uf=is(),ss=class{error(e){g.RAL().console.error(e)}warn(e){g.RAL().console.warn(e)}info(e){g.RAL().console.info(e)}log(e){g.RAL().console.log(e)}};function lf(t,e,n,r,i){let s=new ss,u=g.createProtocolConnection(t,e,s,i);return u.onError(f=>{n(f[0],f[1],f[2])}),u.onClose(r),{listen:()=>u.listen(),sendRequest:(f,...m)=>u.sendRequest(ce.string(f)?f:f.method,...m),onRequest:(f,m)=>u.onRequest(ce.string(f)?f:f.method,m),sendNotification:(f,m)=>u.sendNotification(ce.string(f)?f:f.method,m),onNotification:(f,m)=>u.onNotification(ce.string(f)?f:f.method,m),onProgress:u.onProgress,sendProgress:u.sendProgress,trace:(f,m,R)=>{let y={sendNotification:!1,traceFormat:g.TraceFormat.Text};R===void 0?u.trace(f,m,y):(ce.boolean(R),u.trace(f,m,R))},initialize:f=>u.sendRequest(g.InitializeRequest.type,f),shutdown:()=>u.sendRequest(g.ShutdownRequest.type,void 0),exit:()=>u.sendNotification(g.ExitNotification.type),onLogMessage:f=>u.onNotification(g.LogMessageNotification.type,f),onShowMessage:f=>u.onNotification(g.ShowMessageNotification.type,f),onTelemetry:f=>u.onNotification(g.TelemetryEventNotification.type,f),didChangeConfiguration:f=>u.sendNotification(g.DidChangeConfigurationNotification.type,f),didChangeWatchedFiles:f=>u.sendNotification(g.DidChangeWatchedFilesNotification.type,f),didOpenTextDocument:f=>u.sendNotification(g.DidOpenTextDocumentNotification.type,f),didChangeTextDocument:f=>u.sendNotification(g.DidChangeTextDocumentNotification.type,f),didCloseTextDocument:f=>u.sendNotification(g.DidCloseTextDocumentNotification.type,f),didSaveTextDocument:f=>u.sendNotification(g.DidSaveTextDocumentNotification.type,f),onDiagnostics:f=>u.onNotification(g.PublishDiagnosticsNotification.type,f),dispose:()=>u.dispose()}}var sr;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(sr=Ae.ErrorAction||(Ae.ErrorAction={}));var $t;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})($t=Ae.CloseAction||(Ae.CloseAction={}));var or=class{constructor(e){this.name=e,this.restarts=[]}error(e,n,r){return r&&r<=3?sr.Continue:sr.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<5?$t.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?(A.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`),$t.DoNotRestart):(this.restarts.shift(),$t.Restart)}},Pn;(function(t){t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Pn=Ae.RevealOutputChannelOn||(Ae.RevealOutputChannelOn={}));var ir;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(ir=Ae.State||(Ae.State={}));var fe;(function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.StartFailed=2]="StartFailed",t[t.Running=3]="Running",t[t.Stopping=4]="Stopping",t[t.Stopped=5]="Stopped"})(fe||(fe={}));var qa=[g.SymbolKind.File,g.SymbolKind.Module,g.SymbolKind.Namespace,g.SymbolKind.Package,g.SymbolKind.Class,g.SymbolKind.Method,g.SymbolKind.Property,g.SymbolKind.Field,g.SymbolKind.Constructor,g.SymbolKind.Enum,g.SymbolKind.Interface,g.SymbolKind.Function,g.SymbolKind.Variable,g.SymbolKind.Constant,g.SymbolKind.String,g.SymbolKind.Number,g.SymbolKind.Boolean,g.SymbolKind.Array,g.SymbolKind.Object,g.SymbolKind.Key,g.SymbolKind.Null,g.SymbolKind.EnumMember,g.SymbolKind.Struct,g.SymbolKind.Event,g.SymbolKind.Operator,g.SymbolKind.TypeParameter],df=[g.CompletionItemKind.Text,g.CompletionItemKind.Method,g.CompletionItemKind.Function,g.CompletionItemKind.Constructor,g.CompletionItemKind.Field,g.CompletionItemKind.Variable,g.CompletionItemKind.Class,g.CompletionItemKind.Interface,g.CompletionItemKind.Module,g.CompletionItemKind.Property,g.CompletionItemKind.Unit,g.CompletionItemKind.Value,g.CompletionItemKind.Enum,g.CompletionItemKind.Keyword,g.CompletionItemKind.Snippet,g.CompletionItemKind.Color,g.CompletionItemKind.File,g.CompletionItemKind.Reference,g.CompletionItemKind.Folder,g.CompletionItemKind.EnumMember,g.CompletionItemKind.Constant,g.CompletionItemKind.Struct,g.CompletionItemKind.Event,g.CompletionItemKind.Operator,g.CompletionItemKind.TypeParameter],Ia=[g.SymbolTag.Deprecated];function W(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var os;(function(t){function e(n){let r=n;return r&&ce.func(r.register)&&ce.func(r.unregister)&&ce.func(r.dispose)&&r.messages!==void 0}t.is=e})(os||(os={}));var Ze=class{constructor(e,n,r,i,s,u){this._client=e,this._event=n,this._type=r,this._middleware=i,this._createParams=s,this._selectorFilter=u,this._selectors=new Map}static textDocumentFilter(e,n){for(let r of e)if(A.languages.match(r,n))return!0;return!1}register(e,n){!n.registerOptions.documentSelector||(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(n.id,n.registerOptions.documentSelector))}callback(e){(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))&&(this._middleware?this._middleware(e,n=>this._client.sendNotification(this._type,this._createParams(n))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(A.languages.match(n,e))return{send:r=>{this.callback(r)}}}},as=class extends Ze{constructor(e,n){super(e,A.workspace.onDidOpenTextDocument,g.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),Ze.textDocumentFilter),this._syncedDocuments=n}get messages(){return g.DidOpenTextDocumentNotification.type}fillClientCapabilities(e){W(W(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register(this.messages,{id:ae.generateUuid(),registerOptions:{documentSelector:n}})}register(e,n){if(super.register(e,n),!n.registerOptions.documentSelector)return;let r=n.registerOptions.documentSelector;A.workspace.textDocuments.forEach(i=>{let s=i.uri.toString();if(!this._syncedDocuments.has(s)&&A.languages.match(r,i)){let u=this._client.clientOptions.middleware,p=f=>{this._client.sendNotification(this._type,this._createParams(f))};u.didOpen?u.didOpen(i,p):p(i),this._syncedDocuments.set(s,i)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}},cs=class extends Ze{constructor(e,n){super(e,A.workspace.onDidCloseTextDocument,g.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),Ze.textDocumentFilter),this._syncedDocuments=n}get messages(){return g.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){W(W(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register(this.messages,{id:ae.generateUuid(),registerOptions:{documentSelector:n}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(A.languages.match(n,i)&&!this._selectorFilter(r,i)){let s=this._client.clientOptions.middleware,u=p=>{this._client.sendNotification(this._type,this._createParams(p))};this._syncedDocuments.delete(i.uri.toString()),s.didClose?s.didClose(i,u):u(i)}})}},us=class{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get messages(){return g.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){W(W(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==g.TextDocumentSyncKind.None&&this.register(this.messages,{id:ae.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e,n){!n.registerOptions.documentSelector||(this._listener||(this._listener=A.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(n.id,{documentSelector:n.registerOptions.documentSelector,syncKind:n.registerOptions.syncKind}))}callback(e){if(e.contentChanges.length!==0){for(let n of this._changeData.values())if(A.languages.match(n.documentSelector,e.document)){let r=this._client.clientOptions.middleware;if(n.syncKind===g.TextDocumentSyncKind.Incremental){let i=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);r.didChange?r.didChange(e,()=>this._client.sendNotification(g.DidChangeTextDocumentNotification.type,i)):this._client.sendNotification(g.DidChangeTextDocumentNotification.type,i)}else if(n.syncKind===g.TextDocumentSyncKind.Full){let i=s=>{this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(g.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))})):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new xa.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(g.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(s.document))},-1))};r.didChange?r.didChange(e,i):i(e)}}}}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let n of this._changeData.values())if(A.languages.match(n.documentSelector,e))return{send:r=>{this.callback(r)}}}},ls=class extends Ze{constructor(e){super(e,A.workspace.onWillSaveTextDocument,g.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),(n,r)=>Ze.textDocumentFilter(n,r.document))}get messages(){return g.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register(this.messages,{id:ae.generateUuid(),registerOptions:{documentSelector:n}})}},ds=class{constructor(e){this._client=e,this._selectors=new Map}get messages(){return g.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register(this.messages,{id:ae.generateUuid(),registerOptions:{documentSelector:n}})}register(e,n){!n.registerOptions.documentSelector||(this._listener||(this._listener=A.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(n.id,n.registerOptions.documentSelector))}callback(e){if(Ze.textDocumentFilter(this._selectors.values(),e.document)){let n=this._client.clientOptions.middleware,r=i=>this._client.sendRequest(g.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(s=>{let u=this._client.protocol2CodeConverter.asTextEdits(s);return u===void 0?[]:u});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},fs=class extends Ze{constructor(e){super(e,A.workspace.onDidSaveTextDocument,g.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),Ze.textDocumentFilter),this._includeText=!1}get messages(){return g.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){W(W(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register(this.messages,{id:ae.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},i)})}}register(e,n){this._includeText=!!n.registerOptions.includeText,super.register(e,n)}},hs=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}get messages(){return g.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){W(W(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,n){}register(e,n){if(!Array.isArray(n.registerOptions.watchers))return;let r=[];for(let i of n.registerOptions.watchers){if(!ce.string(i.globPattern))continue;let s=!0,u=!0,p=!0;i.kind!==void 0&&i.kind!==null&&(s=(i.kind&g.WatchKind.Create)!==0,u=(i.kind&g.WatchKind.Change)!==0,p=(i.kind&g.WatchKind.Delete)!==0);let f=A.workspace.createFileSystemWatcher(i.globPattern,!s,!u,!p);this.hookListeners(f,s,u,p),r.push(f)}this._watchers.set(n.id,r)}registerRaw(e,n){let r=[];for(let i of n)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,i,s){n&&e.onDidCreate(u=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(u),type:g.FileChangeType.Created}),null,s),r&&e.onDidChange(u=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(u),type:g.FileChangeType.Changed}),null,s),i&&e.onDidDelete(u=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(u),type:g.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}dispose(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}},Se=class{constructor(e,n){this._client=e,this._message=n,this._registrations=new Map}get messages(){return this._message}register(e,n){if(e.method!==this.messages.method)throw new Error(`Register called on wrong feature. Requested ${e.method} but reached feature ${this.messages.method}`);if(!n.registerOptions.documentSelector)return;let r=this.registerLanguageProvider(n.registerOptions);this._registrations.set(n.id,{disposable:r[0],data:n,provider:r[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(g.TextDocumentRegistrationOptions.is(n)){let r=g.StaticRegistrationOptions.hasId(n)?n.id:ae.generateUuid(),i=n.documentSelector||e;if(i)return[r,Object.assign({},n,{documentSelector:i})]}else if(ce.boolean(n)&&n===!0||g.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=ce.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[ae.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return ce.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&A.languages.match(r,e))return n.provider}}};Ae.TextDocumentFeature=Se;var ps=class{constructor(e,n){this._client=e,this._message=n,this._registrations=new Map}get messages(){return this._message}register(e,n){if(e.method!==this.messages.method)throw new Error(`Register called on wron feature. Requested ${e.method} but reached feature ${this.messages.method}`);let r=this.registerLanguageProvider(n.registerOptions);this._registrations.set(n.id,{disposable:r[0],provider:r[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}},gs=class extends Se{constructor(e){super(e,g.CompletionRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[g.MarkupKind.Markdown,g.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[g.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveAdditionalTextEditsSupport:!0},n.completionItemKind={valueSet:df}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.triggerCharacters||[],r={provideCompletionItems:(i,s,u,p)=>{let f=this._client,m=this._client.clientOptions.middleware,R=(y,P,k,G)=>f.sendRequest(g.CompletionRequest.type,f.code2ProtocolConverter.asCompletionParams(y,P,k),G).then(f.protocol2CodeConverter.asCompletionResult,K=>f.handleFailedRequest(g.CompletionRequest.type,K,null));return m.provideCompletionItem?m.provideCompletionItem(i,s,p,u,R):R(i,s,p,u)},resolveCompletionItem:e.resolveProvider?(i,s)=>{let u=this._client,p=this._client.clientOptions.middleware,f=(m,R)=>u.sendRequest(g.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(m),R).then(u.protocol2CodeConverter.asCompletionItem,y=>u.handleFailedRequest(g.CompletionResolveRequest.type,y,m));return p.resolveCompletionItem?p.resolveCompletionItem(i,s,f):f(i,s)}:void 0};return[A.languages.registerCompletionItemProvider(e.documentSelector,r,...n),r]}},ms=class extends Se{constructor(e){super(e,g.HoverRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[g.MarkupKind.Markdown,g.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideHover:(r,i,s)=>{let u=this._client,p=(m,R,y)=>u.sendRequest(g.HoverRequest.type,u.code2ProtocolConverter.asTextDocumentPositionParams(m,R),y).then(u.protocol2CodeConverter.asHover,P=>u.handleFailedRequest(g.HoverRequest.type,P,null)),f=u.clientOptions.middleware;return f.provideHover?f.provideHover(r,i,s,p):p(r,i,s)}};return[A.languages.registerHoverProvider(e.documentSelector,n),n]}},vs=class extends Se{constructor(e){super(e,g.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[g.MarkupKind.Markdown,g.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(i,s,u,p)=>{let f=this._client,m=(y,P,k,G)=>f.sendRequest(g.SignatureHelpRequest.type,f.code2ProtocolConverter.asSignatureHelpParams(y,P,k),G).then(f.protocol2CodeConverter.asSignatureHelp,K=>f.handleFailedRequest(g.SignatureHelpRequest.type,K,null)),R=f.clientOptions.middleware;return R.provideSignatureHelp?R.provideSignatureHelp(i,s,p,u,m):m(i,s,p,u)}},r;if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];r=A.languages.registerSignatureHelpProvider(e.documentSelector,n,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};r=A.languages.registerSignatureHelpProvider(e.documentSelector,n,i)}return[r,n]}},ys=class extends Se{constructor(e){super(e,g.DefinitionRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDefinition:(r,i,s)=>{let u=this._client,p=(m,R,y)=>u.sendRequest(g.DefinitionRequest.type,u.code2ProtocolConverter.asTextDocumentPositionParams(m,R),y).then(u.protocol2CodeConverter.asDefinitionResult,P=>u.handleFailedRequest(g.DefinitionRequest.type,P,null)),f=u.clientOptions.middleware;return f.provideDefinition?f.provideDefinition(r,i,s,p):p(r,i,s)}};return[A.languages.registerDefinitionProvider(e.documentSelector,n),n]}},Cs=class extends Se{constructor(e){super(e,g.ReferencesRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideReferences:(r,i,s,u)=>{let p=this._client,f=(R,y,P,k)=>p.sendRequest(g.ReferencesRequest.type,p.code2ProtocolConverter.asReferenceParams(R,y,P),k).then(p.protocol2CodeConverter.asReferences,G=>p.handleFailedRequest(g.ReferencesRequest.type,G,null)),m=p.clientOptions.middleware;return m.provideReferences?m.provideReferences(r,i,s,u,f):f(r,i,s,u)}};return[A.languages.registerReferenceProvider(e.documentSelector,n),n]}},Rs=class extends Se{constructor(e){super(e,g.DocumentHighlightRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentHighlights:(r,i,s)=>{let u=this._client,p=(m,R,y)=>u.sendRequest(g.DocumentHighlightRequest.type,u.code2ProtocolConverter.asTextDocumentPositionParams(m,R),y).then(u.protocol2CodeConverter.asDocumentHighlights,P=>u.handleFailedRequest(g.DocumentHighlightRequest.type,P,null)),f=u.clientOptions.middleware;return f.provideDocumentHighlights?f.provideDocumentHighlights(r,i,s,p):p(r,i,s)}};return[A.languages.registerDocumentHighlightProvider(e.documentSelector,n),n]}},_s=class extends Se{constructor(e){super(e,g.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:qa},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:Ia}}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentSymbols:(r,i)=>{let s=this._client,u=(f,m)=>s.sendRequest(g.DocumentSymbolRequest.type,s.code2ProtocolConverter.asDocumentSymbolParams(f),m).then(R=>{if(R!==null){if(R.length===0)return[];{let y=R[0];return g.DocumentSymbol.is(y)?s.protocol2CodeConverter.asDocumentSymbols(R):s.protocol2CodeConverter.asSymbolInformations(R)}}},R=>s.handleFailedRequest(g.DocumentSymbolRequest.type,R,null)),p=s.clientOptions.middleware;return p.provideDocumentSymbols?p.provideDocumentSymbols(r,i,u):u(r,i)}};return[A.languages.registerDocumentSymbolProvider(e.documentSelector,n),n]}},ws=class extends ps{constructor(e){super(e,g.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=W(W(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:qa},n.tagSupport={valueSet:Ia}}initialize(e){!e.workspaceSymbolProvider||this.register(this.messages,{id:ae.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,i)=>{let s=this._client,u=(f,m)=>s.sendRequest(g.WorkspaceSymbolRequest.type,{query:f},m).then(s.protocol2CodeConverter.asSymbolInformations,R=>s.handleFailedRequest(g.WorkspaceSymbolRequest.type,R,null)),p=s.clientOptions.middleware;return p.provideWorkspaceSymbols?p.provideWorkspaceSymbols(r,i,u):u(r,i)}};return[A.languages.registerWorkspaceSymbolProvider(n),n]}},Ts=class extends Se{constructor(e){super(e,g.CodeActionRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.codeActionLiteralSupport={codeActionKind:{valueSet:[g.CodeActionKind.Empty,g.CodeActionKind.QuickFix,g.CodeActionKind.Refactor,g.CodeActionKind.RefactorExtract,g.CodeActionKind.RefactorInline,g.CodeActionKind.RefactorRewrite,g.CodeActionKind.Source,g.CodeActionKind.SourceOrganizeImports]}}}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideCodeActions:(r,i,s,u)=>{let p=this._client,f=(R,y,P,k)=>{let G={textDocument:p.code2ProtocolConverter.asTextDocumentIdentifier(R),range:p.code2ProtocolConverter.asRange(y),context:p.code2ProtocolConverter.asCodeActionContext(P)};return p.sendRequest(g.CodeActionRequest.type,G,k).then(K=>{if(K===null)return;let X=[];for(let M of K)g.Command.is(M)?X.push(p.protocol2CodeConverter.asCommand(M)):X.push(p.protocol2CodeConverter.asCodeAction(M));return X},K=>p.handleFailedRequest(g.CodeActionRequest.type,K,null))},m=p.clientOptions.middleware;return m.provideCodeActions?m.provideCodeActions(r,i,s,u,f):f(r,i,s,u)}};return[A.languages.registerCodeActionsProvider(e.documentSelector,n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}},Ss=class extends Se{constructor(e){super(e,g.CodeLensRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"codeLens").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeLensProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideCodeLenses:(r,i)=>{let s=this._client,u=(f,m)=>s.sendRequest(g.CodeLensRequest.type,s.code2ProtocolConverter.asCodeLensParams(f),m).then(s.protocol2CodeConverter.asCodeLenses,R=>s.handleFailedRequest(g.CodeLensRequest.type,R,null)),p=s.clientOptions.middleware;return p.provideCodeLenses?p.provideCodeLenses(r,i,u):u(r,i)},resolveCodeLens:e.resolveProvider?(r,i)=>{let s=this._client,u=(f,m)=>s.sendRequest(g.CodeLensResolveRequest.type,s.code2ProtocolConverter.asCodeLens(f),m).then(s.protocol2CodeConverter.asCodeLens,R=>s.handleFailedRequest(g.CodeLensResolveRequest.type,R,f)),p=s.clientOptions.middleware;return p.resolveCodeLens?p.resolveCodeLens(r,i,u):u(r,i)}:void 0};return[A.languages.registerCodeLensProvider(e.documentSelector,n),n]}},Es=class extends Se{constructor(e){super(e,g.DocumentFormattingRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentFormattingEdits:(r,i,s)=>{let u=this._client,p=(m,R,y)=>{let P={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(m),options:u.code2ProtocolConverter.asFormattingOptions(R)};return u.sendRequest(g.DocumentFormattingRequest.type,P,y).then(u.protocol2CodeConverter.asTextEdits,k=>u.handleFailedRequest(g.DocumentFormattingRequest.type,k,null))},f=u.clientOptions.middleware;return f.provideDocumentFormattingEdits?f.provideDocumentFormattingEdits(r,i,s,p):p(r,i,s)}};return[A.languages.registerDocumentFormattingEditProvider(e.documentSelector,n),n]}},Ps=class extends Se{constructor(e){super(e,g.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentRangeFormattingEdits:(r,i,s,u)=>{let p=this._client,f=(R,y,P,k)=>{let G={textDocument:p.code2ProtocolConverter.asTextDocumentIdentifier(R),range:p.code2ProtocolConverter.asRange(y),options:p.code2ProtocolConverter.asFormattingOptions(P)};return p.sendRequest(g.DocumentRangeFormattingRequest.type,G,k).then(p.protocol2CodeConverter.asTextEdits,K=>p.handleFailedRequest(g.DocumentRangeFormattingRequest.type,K,null))},m=p.clientOptions.middleware;return m.provideDocumentRangeFormattingEdits?m.provideDocumentRangeFormattingEdits(r,i,s,u,f):f(r,i,s,u)}};return[A.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,n),n]}},Ds=class extends Se{constructor(e){super(e,g.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){W(W(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideOnTypeFormattingEdits:(i,s,u,p,f)=>{let m=this._client,R=(P,k,G,K,X)=>{let M={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(P),position:m.code2ProtocolConverter.asPosition(k),ch:G,options:m.code2ProtocolConverter.asFormattingOptions(K)};return m.sendRequest(g.DocumentOnTypeFormattingRequest.type,M,X).then(m.protocol2CodeConverter.asTextEdits,q=>m.handleFailedRequest(g.DocumentOnTypeFormattingRequest.type,q,null))},y=m.clientOptions.middleware;return y.provideOnTypeFormattingEdits?y.provideOnTypeFormattingEdits(i,s,u,p,f,R):R(i,s,u,p,f)}},r=e.moreTriggerCharacter||[];return[A.languages.registerOnTypeFormattingEditProvider(e.documentSelector,n,e.firstTriggerCharacter,...r),n]}},bs=class extends Se{constructor(e){super(e,g.RenameRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);!r||(ce.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register(this.messages,{id:ae.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n={provideRenameEdits:(r,i,s,u)=>{let p=this._client,f=(R,y,P,k)=>{let G={textDocument:p.code2ProtocolConverter.asTextDocumentIdentifier(R),position:p.code2ProtocolConverter.asPosition(y),newName:P};return p.sendRequest(g.RenameRequest.type,G,k).then(p.protocol2CodeConverter.asWorkspaceEdit,K=>p.handleFailedRequest(g.RenameRequest.type,K,null))},m=p.clientOptions.middleware;return m.provideRenameEdits?m.provideRenameEdits(r,i,s,u,f):f(r,i,s,u)},prepareRename:e.prepareProvider?(r,i,s)=>{let u=this._client,p=(m,R,y)=>{let P={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(m),position:u.code2ProtocolConverter.asPosition(R)};return u.sendRequest(g.PrepareRenameRequest.type,P,y).then(k=>g.Range.is(k)?u.protocol2CodeConverter.asRange(k):k&&g.Range.is(k.range)?{range:u.protocol2CodeConverter.asRange(k.range),placeholder:k.placeholder}:Promise.reject(new Error("The element can't be renamed.")),k=>u.handleFailedRequest(g.PrepareRenameRequest.type,k,void 0))},f=u.clientOptions.middleware;return f.prepareRename?f.prepareRename(r,i,s,p):p(r,i,s)}:void 0};return[A.languages.registerRenameProvider(e.documentSelector,n),n]}},Os=class extends Se{constructor(e){super(e,g.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=W(W(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);!r||this.register(this.messages,{id:ae.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideDocumentLinks:(r,i)=>{let s=this._client,u=(f,m)=>s.sendRequest(g.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(f),m).then(s.protocol2CodeConverter.asDocumentLinks,R=>s.handleFailedRequest(g.DocumentLinkRequest.type,R,null)),p=s.clientOptions.middleware;return p.provideDocumentLinks?p.provideDocumentLinks(r,i,u):u(r,i)},resolveDocumentLink:e.resolveProvider?(r,i)=>{let s=this._client,u=(f,m)=>s.sendRequest(g.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(f),m).then(s.protocol2CodeConverter.asDocumentLink,R=>s.handleFailedRequest(g.DocumentLinkResolveRequest.type,R,f)),p=s.clientOptions.middleware;return p.resolveDocumentLink?p.resolveDocumentLink(r,i,u):u(r,i)}:void 0};return[A.languages.registerDocumentLinkProvider(e.documentSelector,n),n]}},ks=class{constructor(e){this._client=e,this._listeners=new Map}get messages(){return g.DidChangeConfigurationNotification.type}fillClientCapabilities(e){W(W(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;e!==void 0&&this.register(this.messages,{id:ae.generateUuid(),registerOptions:{section:e}})}register(e,n){let r=A.workspace.onDidChangeConfiguration(i=>{this.onDidChangeConfiguration(n.registerOptions.section,i)});this._listeners.set(n.id,r),n.registerOptions.section!==void 0&&this.onDidChangeConfiguration(n.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,n){let r;if(ce.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(p=>n.affectsConfiguration(p)))return;let i=u=>{if(u===void 0){this._client.sendNotification(g.DidChangeConfigurationNotification.type,{settings:null});return}this._client.sendNotification(g.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(u)})},s=this.getMiddleware();s?s(r,i):i(r)}extractSettingsInformation(e){function n(s,u){let p=s;for(let f=0;f<u.length-1;f++){let m=p[u[f]];m||(m=Object.create(null),p[u[f]]=m),p=m}return p}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let u=e[s],p=u.indexOf("."),f=null;if(p>=0?f=A.workspace.getConfiguration(u.substr(0,p),r).get(u.substr(p+1)):f=A.workspace.getConfiguration(void 0,r).get(u),f){let m=e[s].split(".");n(i,m)[m[m.length-1]]=of.toJSONObject(f)}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;if(e.workspace&&e.workspace.didChangeConfiguration)return e.workspace.didChangeConfiguration}},xs=class{constructor(e){this._client=e,this._commands=new Map}get messages(){return g.ExecuteCommandRequest.type}fillClientCapabilities(e){W(W(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){!e.executeCommandProvider||this.register(this.messages,{id:ae.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e,n){let r=this._client,i=r.clientOptions.middleware,s=(u,p)=>{let f={command:u,arguments:p};return r.sendRequest(g.ExecuteCommandRequest.type,f).then(void 0,m=>r.handleFailedRequest(g.ExecuteCommandRequest.type,m,void 0))};if(n.registerOptions.commands){let u=[];for(let p of n.registerOptions.commands)u.push(A.commands.registerCommand(p,(...f)=>i.executeCommand?i.executeCommand(p,f,s):s(p,f)));this._commands.set(n.id,u)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}},ff;(function(t){function e(n){return n&&g.MessageReader.is(n.reader)&&g.MessageWriter.is(n.writer)}t.is=e})(ff=Ae.MessageTransports||(Ae.MessageTransports={}));var ar=class{constructor(e,n){this._resolve=e,this._reject=n,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}},Ut=class{constructor(e,n,r){this._traceFormat=g.TraceFormat.Text,this._features=[],this._method2Message=new Map,this._dynamicFeatures=new Map,this._id=e,this._name=n,r=r||{},this._clientOptions={documentSelector:r.documentSelector||[],synchronize:r.synchronize||{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName||this._name,revealOutputChannelOn:r.revealOutputChannelOn||Pn.Error,stdioEncoding:r.stdioEncoding||"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler||new or(this._name),middleware:r.middleware||{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=fe.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new xa.Delayer(250),this._onReady=new Promise((i,s)=>{this._onReadyCallbacks=new ar(i,s)}),this._onStop=void 0,this._telemetryEmitter=new g.Emitter,this._stateChangeEmitter=new g.Emitter,this._trace=g.Trace.Off,this._tracer={log:(i,s)=>{ce.string(i)?this.logTrace(i,s):this.logObjectTrace(i)}},this._c2p=af.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=cf.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){return this.state===fe.Running?ir.Running:this.state===fe.Starting?ir.Starting:ir.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...n)}catch(r){throw this.error(`Sending request ${ce.string(e)?e:e.method} failed.`,r),r}}onRequest(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onRequest(e,n)}catch(r){throw this.error(`Registering request handler ${ce.string(e)?e:e.method} failed.`,r),r}}sendNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,n)}catch(r){throw this.error(`Sending notification ${ce.string(e)?e:e.method} failed.`,r),r}}onNotification(e,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onNotification(e,n)}catch(r){throw this.error(`Registering notification handler ${ce.string(e)?e:e.method} failed.`,r),r}}onProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onProgress(e,n,r)}catch(i){throw this.error(`Registering progress handler for token ${n} failed.`,i),i}}sendProgress(e,n,r){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,n,r)}catch(i){throw this.error(`Sending progress for token ${n} failed.`,i),i}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=A.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(){return new or(this._name)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(n=>{n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof g.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?ce.string(e.stack)?e.stack:e.message:ce.string(e)?e:e.toString()}info(e,n,r=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=Pn.Info&&this.showNotificationMessage()}warn(e,n,r=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=Pn.Warn&&this.showNotificationMessage()}error(e,n,r=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.outputChannel.appendLine(this.data2String(n)),r&&this._clientOptions.revealOutputChannelOn<=Pn.Error&&this.showNotificationMessage()}showNotificationMessage(){A.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===fe.Initial||this.state===fe.Stopping||this.state===fe.Stopped}needsStop(){return this.state===fe.Starting||this.state===fe.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===fe.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,n)=>{this._onReadyCallbacks=new ar(e,n)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?A.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):A.languages.createDiagnosticCollection()),this.state=fe.Starting,this.resolveConnection().then(e=>(e.onLogMessage(n=>{switch(n.type){case g.MessageType.Error:this.error(n.message,void 0,!1);break;case g.MessageType.Warning:this.warn(n.message,void 0,!1);break;case g.MessageType.Info:this.info(n.message,void 0,!1);break;default:this.outputChannel.appendLine(n.message)}}),e.onShowMessage(n=>{switch(n.type){case g.MessageType.Error:A.window.showErrorMessage(n.message);break;case g.MessageType.Warning:A.window.showWarningMessage(n.message);break;case g.MessageType.Info:A.window.showInformationMessage(n.message);break;default:A.window.showInformationMessage(n.message)}}),e.onRequest(g.ShowMessageRequest.type,n=>{let r;switch(n.type){case g.MessageType.Error:r=A.window.showErrorMessage;break;case g.MessageType.Warning:r=A.window.showWarningMessage;break;case g.MessageType.Info:r=A.window.showInformationMessage;break;default:r=A.window.showInformationMessage}let i=n.actions||[];return r(n.message,...i)}),e.onTelemetry(n=>{this._telemetryEmitter.fire(n)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=fe.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),A.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new A.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,r=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),i={processId:null,clientInfo:{name:"vscode",version:A.version},rootPath:r||null,rootUri:r?this._c2p.asUri(A.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:ce.func(n)?n():n,trace:g.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(i),this._clientOptions.progressOnInitialization){let s=ae.generateUuid(),u=new uf.ProgressPart(e,s);return i.workDoneToken=s,this.doInitialize(e,i).then(p=>(u.done(),p),p=>{throw u.cancel(),p})}else return this.doInitialize(e,i)}doInitialize(e,n){return e.initialize(n).then(r=>{this._resolvedConnection=e,this._initializeResult=r,this.state=fe.Running;let i;return ce.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===g.TextDocumentSyncKind.None?i={openClose:!1,change:g.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onDiagnostics(s=>this.handleDiagnostics(s)),e.onRequest(g.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(g.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(g.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s)),e.sendNotification(g.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),r}).then(void 0,r=>{throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r)):r instanceof g.ResponseError&&r.data&&r.data.retry?A.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(r))}):(r&&r.message&&A.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop(),this._onReadyCallbacks.reject(r)),r})}_clientGetRootPath(){let e=A.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===fe.Stopping&&this._onStop?this._onStop:(this.state=fe.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.dispose(),this.state=fe.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=fe.Stopped,Promise.resolve())}cleanUp(e=!0,n=!0){this._listeners&&(this._listeners.forEach(r=>r.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(r=>r.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let r of this._dynamicFeatures.values())r.dispose();e&&this.cleanUpChannel(),n&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){var n;let r=this;function i(u){r._fileEvents.push(u),r._fileEventDelayer.trigger(()=>{r.onReady().then(()=>{r.resolveConnection().then(p=>{r.isConnectionActive()&&(r.forceDocumentSync(),p.didChangeWatchedFiles({changes:r._fileEvents})),r._fileEvents=[]})},p=>{r.error("Notify file events failed.",p)})})}let s=(n=this.clientOptions.middleware)===null||n===void 0?void 0:n.workspace;s?.didChangeWatchedFile?s.didChangeWatchedFile(e,i):i(e)}forceDocumentSync(){this._dynamicFeatures.get(g.DidChangeTextDocumentNotification.type.method).forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let n=this._p2c.asUri(e.uri),r=this._p2c.asDiagnostics(e.diagnostics),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(n,r,(s,u)=>this.setDiagnostics(s,u)):this.setDiagnostics(n,r)}setDiagnostics(e,n){!this._diagnostics||this._diagnostics.set(e,n)}createConnection(){let e=(r,i,s)=>{this.handleConnectionError(r,i,s)},n=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(r=>lf(r.reader,r.writer,e,n,this._clientOptions.connectionOptions))}handleConnectionClosed(){if(this.state===fe.Stopping||this.state===fe.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch{}let e=$t.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch{}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===$t.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state=fe.Stopped,this.cleanUp(!1,!0)):e===$t.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=fe.Initial,this.start())}handleConnectionError(e,n,r){this._clientOptions.errorHandler.error(e,n,r)===sr.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){A.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,n=!1){let r=A.workspace.getConfiguration(this._id),i=g.Trace.Off,s=g.TraceFormat.Text;if(r){let u=r.get("trace.server","off");typeof u=="string"?i=g.Trace.fromString(u):(i=g.Trace.fromString(r.get("trace.server.verbosity","off")),s=g.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;ce.array(n)?r=n:r=[n],r&&this._dynamicFeatures.get(g.DidChangeWatchedFilesNotification.type.method).registerRaw(ae.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),os.is(e)){let n=e.messages;if(Array.isArray(n))for(let r of n)this._method2Message.set(r.method,r),this._dynamicFeatures.set(r.method,e);else this._method2Message.set(n.method,n),this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}registerBuiltinFeatures(){this.registerFeature(new ks(this)),this.registerFeature(new as(this,this._syncedDocuments)),this.registerFeature(new us(this)),this.registerFeature(new ls(this)),this.registerFeature(new ds(this)),this.registerFeature(new fs(this)),this.registerFeature(new cs(this,this._syncedDocuments)),this.registerFeature(new hs(this,e=>this.notifyFileEvent(e))),this.registerFeature(new gs(this)),this.registerFeature(new ms(this)),this.registerFeature(new vs(this)),this.registerFeature(new ys(this)),this.registerFeature(new Cs(this)),this.registerFeature(new Rs(this)),this.registerFeature(new _s(this)),this.registerFeature(new ws(this)),this.registerFeature(new Ts(this)),this.registerFeature(new Ss(this)),this.registerFeature(new Es(this)),this.registerFeature(new Ps(this)),this.registerFeature(new Ds(this)),this.registerFeature(new bs(this)),this.registerFeature(new Os(this)),this.registerFeature(new xs(this))}fillInitializeParams(e){for(let n of this._features)ce.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};W(e,"workspace").applyEdit=!0;let n=W(W(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[g.ResourceOperationKind.Create,g.ResourceOperationKind.Rename,g.ResourceOperationKind.Delete],n.failureHandling=g.FailureHandlingKind.TextOnlyTransactional;let r=W(W(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[g.DiagnosticTag.Unnecessary,g.DiagnosticTag.Deprecated]},r.complexDiagnosticCodeSupport=!0;for(let i of this._features)i.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)r.initialize(this._capabilities,n)}handleRegistrationRequest(e){return new Promise((n,r)=>{for(let i of e.registrations){let s=this._dynamicFeatures.get(i.method);if(!s){r(new Error(`No feature implementation for ${i.method} found. Registration failed.`));return}let u=i.registerOptions||{};u.documentSelector=u.documentSelector||this._clientOptions.documentSelector;let p={id:i.id,registerOptions:u};s.register(this._method2Message.get(i.method),p)}n()})}handleUnregistrationRequest(e){return new Promise((n,r)=>{for(let i of e.unregisterations){let s=this._dynamicFeatures.get(i.method);if(!s){r(new Error(`No feature implementation for ${i.method} found. Unregistration failed.`));return}s.unregister(i.id)}n()})}handleApplyWorkspaceEdit(e){let n=e.edit,r=new Map;A.workspace.textDocuments.forEach(s=>r.set(s.uri.toString(),s));let i=!1;if(n.documentChanges){for(let s of n.documentChanges)if(g.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let u=r.get(s.textDocument.uri);if(u&&u.version!==s.textDocument.version){i=!0;break}}}return i?Promise.resolve({applied:!1}):ce.asPromise(A.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(s=>({applied:s})))}handleFailedRequest(e,n,r){if(n instanceof g.ResponseError){if(n.code===g.ErrorCodes.RequestCancelled)throw this.makeCancelError();if(n.code===g.ErrorCodes.ContentModified)return r}throw this.error(`Request ${e.method} failed.`,n),n}makeCancelError(){let e=new Error(Ut.Canceled);return e.name=Ut.Canceled,e}};Ae.BaseLanguageClient=Ut;Ut.Canceled="Canceled"});var La=L(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var cr=require("vscode"),Dn=ye(),hf=Ge();function Na(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var qs=class extends hf.TextDocumentFeature{constructor(e){super(e,Dn.DocumentColorRequest.type)}fillClientCapabilities(e){Na(Na(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.colorProvider);!r||!i||this.register(this.messages,{id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideColorPresentations:(r,i,s)=>{let u=this._client,p=(m,R,y)=>{let P={color:m,textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(R.document),range:u.code2ProtocolConverter.asRange(R.range)};return u.sendRequest(Dn.ColorPresentationRequest.type,P,y).then(this.asColorPresentations.bind(this),k=>u.handleFailedRequest(Dn.ColorPresentationRequest.type,k,null))},f=u.clientOptions.middleware;return f.provideColorPresentations?f.provideColorPresentations(r,i,s,p):p(r,i,s)},provideDocumentColors:(r,i)=>{let s=this._client,u=(f,m)=>{let R={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(f)};return s.sendRequest(Dn.DocumentColorRequest.type,R,m).then(this.asColorInformations.bind(this),y=>s.handleFailedRequest(Dn.ColorPresentationRequest.type,y,null))},p=s.clientOptions.middleware;return p.provideDocumentColors?p.provideDocumentColors(r,i,u):u(r,i)}};return[cr.languages.registerColorProvider(e.documentSelector,n),n]}asColor(e){return new cr.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(n=>new cr.ColorInformation(this._client.protocol2CodeConverter.asRange(n.range),this.asColor(n.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(n=>{let r=new cr.ColorPresentation(n.label);return r.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(n.additionalTextEdits),r.textEdit=this._client.protocol2CodeConverter.asTextEdit(n.textEdit),r}):[]}};Is.ColorProviderFeature=qs});var Aa=L(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var pf=require("vscode"),Ns=ye(),gf=Ge();function Fa(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Ls=class extends gf.TextDocumentFeature{constructor(e){super(e,Ns.ImplementationRequest.type)}fillClientCapabilities(e){let n=Fa(Fa(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.implementationProvider);!r||!i||this.register(this.messages,{id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideImplementation:(r,i,s)=>{let u=this._client,p=(m,R,y)=>u.sendRequest(Ns.ImplementationRequest.type,u.code2ProtocolConverter.asTextDocumentPositionParams(m,R),y).then(u.protocol2CodeConverter.asDefinitionResult,P=>u.handleFailedRequest(Ns.ImplementationRequest.type,P,null)),f=u.clientOptions.middleware;return f.provideImplementation?f.provideImplementation(r,i,s,p):p(r,i,s)}};return[pf.languages.registerImplementationProvider(e.documentSelector,n),n]}};Fs.ImplementationFeature=Ls});var Ma=L(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});var mf=require("vscode"),As=ye(),vf=Ge();function ur(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Ms=class extends vf.TextDocumentFeature{constructor(e){super(e,As.TypeDefinitionRequest.type)}fillClientCapabilities(e){ur(ur(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=ur(ur(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeDefinitionProvider);!r||!i||this.register(this.messages,{id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideTypeDefinition:(r,i,s)=>{let u=this._client,p=(m,R,y)=>u.sendRequest(As.TypeDefinitionRequest.type,u.code2ProtocolConverter.asTextDocumentPositionParams(m,R),y).then(u.protocol2CodeConverter.asDefinitionResult,P=>u.handleFailedRequest(As.TypeDefinitionRequest.type,P,null)),f=u.clientOptions.middleware;return f.provideTypeDefinition?f.provideTypeDefinition(r,i,s,p):p(r,i,s)}};return[mf.languages.registerTypeDefinitionProvider(e.documentSelector,n),n]}};js.TypeDefinitionFeature=Ms});var ja=L(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});var yf=es(),lr=require("vscode"),Hs=ye();function Ws(t,e){if(t!==void 0)return t[e]}function Ks(t,e){return t.filter(n=>e.indexOf(n)<0)}dr.arrayDiff=Ks;var zs=class{constructor(e){this._client=e,this._listeners=new Map}get messages(){return Hs.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=lr.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(Hs.WorkspaceFoldersRequest.type,s=>{let u=()=>{let f=lr.workspace.workspaceFolders;return f===void 0?null:f.map(R=>this.asProtocol(R))},p=n.clientOptions.middleware.workspace;return p&&p.workspaceFolders?p.workspaceFolders(s,u):u(s)});let r=Ws(Ws(Ws(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=yf.generateUuid()),i&&this.register(this.messages,{id:i,registerOptions:void 0})}sendInitialEvent(e){if(this._initialFolders&&e){let n=Ks(this._initialFolders,e),r=Ks(e,this._initialFolders);(r.length>0||n.length>0)&&this.doSendEvent(r,n)}else this._initialFolders?this.doSendEvent([],this._initialFolders):e&&this.doSendEvent(e,[])}doSendEvent(e,n){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:n.map(i=>this.asProtocol(i))}};this._client.sendNotification(Hs.DidChangeWorkspaceFoldersNotification.type,r)}register(e,n){let r=n.id,i=this._client,s=lr.workspace.onDidChangeWorkspaceFolders(u=>{let p=m=>{this.doSendEvent(m.added,m.removed)},f=i.clientOptions.middleware.workspace;f&&f.didChangeWorkspaceFolders?f.didChangeWorkspaceFolders(u,p):p(u)});this._listeners.set(r,s),this.sendInitialEvent(lr.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};dr.WorkspaceFoldersFeature=zs});var Wa=L($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});var bn=require("vscode"),dn=ye(),Cf=Ge();function Ha(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var fn=class extends Cf.TextDocumentFeature{constructor(e){super(e,dn.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=Ha(Ha(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.foldingRangeProvider);!r||!i||this.register(this.messages,{id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideFoldingRanges:(r,i,s)=>{let u=this._client,p=(m,R,y)=>{let P={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(m)};return u.sendRequest(dn.FoldingRangeRequest.type,P,y).then(fn.asFoldingRanges,k=>u.handleFailedRequest(dn.FoldingRangeRequest.type,k,null))},f=u.clientOptions.middleware;return f.provideFoldingRanges?f.provideFoldingRanges(r,i,s,p):p(r,i,s)}};return[bn.languages.registerFoldingRangeProvider(e.documentSelector,n),n]}static asFoldingRangeKind(e){if(e)switch(e){case dn.FoldingRangeKind.Comment:return bn.FoldingRangeKind.Comment;case dn.FoldingRangeKind.Imports:return bn.FoldingRangeKind.Imports;case dn.FoldingRangeKind.Region:return bn.FoldingRangeKind.Region}}static asFoldingRanges(e){return Array.isArray(e)?e.map(n=>new bn.FoldingRange(n.startLine,n.endLine,fn.asFoldingRangeKind(n.kind))):[]}};$s.FoldingRangeFeature=fn});var za=L(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});var Rf=require("vscode"),Us=ye(),_f=Ge();function Ka(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Gs=class extends _f.TextDocumentFeature{constructor(e){super(e,Us.DeclarationRequest.type)}fillClientCapabilities(e){let n=Ka(Ka(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.declarationProvider);!r||!i||this.register(this.messages,{id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideDeclaration:(r,i,s)=>{let u=this._client,p=(m,R,y)=>u.sendRequest(Us.DeclarationRequest.type,u.code2ProtocolConverter.asTextDocumentPositionParams(m,R),y).then(u.protocol2CodeConverter.asDeclarationResult,P=>u.handleFailedRequest(Us.DeclarationRequest.type,P,null)),f=u.clientOptions.middleware;return f.provideDeclaration?f.provideDeclaration(r,i,s,p):p(r,i,s)}};return[Rf.languages.registerDeclarationProvider(e.documentSelector,n),n]}};Xs.DeclarationFeature=Gs});var Ua=L(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});var wf=require("vscode"),Bs=ye(),Tf=Ge();function $a(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var Js=class extends Tf.TextDocumentFeature{constructor(e){super(e,Bs.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=$a($a(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.selectionRangeProvider);!r||!i||this.register(this.messages,{id:r,registerOptions:i})}registerLanguageProvider(e){let n={provideSelectionRanges:(r,i,s)=>{let u=this._client,p=(m,R,y)=>{let P={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(m),positions:u.code2ProtocolConverter.asPositions(R)};return u.sendRequest(Bs.SelectionRangeRequest.type,P,y).then(k=>u.protocol2CodeConverter.asSelectionRanges(k),k=>u.handleFailedRequest(Bs.SelectionRangeRequest.type,k,null))},f=u.clientOptions.middleware;return f.provideSelectionRanges?f.provideSelectionRanges(r,i,s,p):p(r,i,s)}};return[wf.languages.registerSelectionRangeProvider(e.documentSelector,n),n]}};Vs.SelectionRangeFeature=Js});var Ga=L(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});var Sf=ye(),Ef=is();function Pf(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var Qs=class{constructor(e){this._client=e}fillClientCapabilities(e){Pf(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=r=>{new Ef.ProgressPart(this._client,r.token)};e.onRequest(Sf.WorkDoneProgressCreateRequest.type,n)}};Ys.ProgressFeature=Qs});var Ba=L(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});var fr=require("vscode"),Gt=ye(),Df=Ge();function Xa(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var On;(function(t){function e(p,f){if(f===null)return;let m=new fr.CallHierarchyItem(p.asSymbolKind(f.kind),f.name,f.detail||"",p.asUri(f.uri),p.asRange(f.range),p.asRange(f.selectionRange));return f.tags!==void 0&&(m.tags=p.asSymbolTags(f.tags)),m}t.asCallHierarchyItem=e;function n(p,f){if(f!==null)return f.map(m=>e(p,m))}t.asCallHierarchyItems=n;function r(p,f){return new fr.CallHierarchyIncomingCall(e(p,f.from),p.asRanges(f.fromRanges))}t.asCallHierarchyIncomingCall=r;function i(p,f){if(f!==null)return f.map(m=>r(p,m))}t.asCallHierarchyIncomingCalls=i;function s(p,f){return new fr.CallHierarchyOutgoingCall(e(p,f.to),p.asRanges(f.fromRanges))}t.asCallHierarchyOutgoingCall=s;function u(p,f){if(f!==null)return f.map(m=>s(p,m))}t.asCallHierarchyOutgoingCalls=u})(On||(On={}));var hr;(function(t){function e(n,r){let i={name:r.name,kind:n.asSymbolKind(r.kind),uri:n.asUri(r.uri),range:n.asRange(r.range),selectionRange:n.asRange(r.selectionRange)};return r.detail!==void 0&&r.detail.length>0&&(i.detail=r.detail),r.tags!==void 0&&(i.tags=n.asSymbolTags(r.tags)),i}t.asCallHierarchyItem=e})(hr||(hr={}));var Zs=class{constructor(e){this.client=e,this.middleware=e.clientOptions.middleware}prepareCallHierarchy(e,n,r){let i=this.client,s=this.middleware,u=(p,f,m)=>{let R=i.code2ProtocolConverter.asTextDocumentPositionParams(p,f);return i.sendRequest(Gt.CallHierarchyPrepareRequest.type,R,m).then(y=>On.asCallHierarchyItems(this.client.protocol2CodeConverter,y),y=>i.handleFailedRequest(Gt.CallHierarchyPrepareRequest.type,y,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,r,u):u(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,i=this.middleware,s=(u,p)=>{let f={item:hr.asCallHierarchyItem(r.code2ProtocolConverter,u)};return r.sendRequest(Gt.CallHierarchyIncomingCallsRequest.type,f,p).then(m=>On.asCallHierarchyIncomingCalls(r.protocol2CodeConverter,m),m=>r.handleFailedRequest(Gt.CallHierarchyIncomingCallsRequest.type,m,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,i=this.middleware,s=(u,p)=>{let f={item:hr.asCallHierarchyItem(r.code2ProtocolConverter,u)};return r.sendRequest(Gt.CallHierarchyOutgoingCallsRequest.type,f,p).then(m=>On.asCallHierarchyOutgoingCalls(r.protocol2CodeConverter,m),m=>r.handleFailedRequest(Gt.CallHierarchyOutgoingCallsRequest.type,m,null))};return i.provideCallHierarchyOutgingCalls?i.provideCallHierarchyOutgingCalls(e,n,s):s(e,n)}},eo=class extends Df.TextDocumentFeature{constructor(e){super(e,Gt.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let r=Xa(Xa(e,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.callHierarchyProvider);!r||!i||this.register(this.messages,{id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new Zs(n);return[fr.languages.registerCallHierarchyProvider(e.documentSelector,r),r]}};to.CallHierarchyFeature=eo});var Va=L(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});var hn=require("vscode"),bf=Ge(),Q=ye(),Of=Fi();function Ja(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Xt;(function(t){function e(s){if(s!=null)return new hn.SemanticTokens(new Uint32Array(s.data),s.resultId)}t.asSemanticTokens=e;function n(s){return new hn.SemanticTokensEdit(s.start,s.deleteCount,s.data!==void 0?new Uint32Array(s.data):void 0)}t.asSemanticTokensEdit=n;function r(s){if(s!=null)return new hn.SemanticTokensEdits(s.edits.map(n),s.resultId)}t.asSemanticTokensEdits=r;function i(s){return s}t.asLegend=i})(Xt||(Xt={}));var no=class extends bf.TextDocumentFeature{constructor(e){super(e,Q.Proposed.SemanticTokensRequest.type)}fillClientCapabilities(e){let r=Ja(Ja(e,"textDocument"),"semanticTokens");r.dynamicRegistration=!0,r.tokenTypes=[Q.Proposed.SemanticTokenTypes.namespace,Q.Proposed.SemanticTokenTypes.type,Q.Proposed.SemanticTokenTypes.class,Q.Proposed.SemanticTokenTypes.enum,Q.Proposed.SemanticTokenTypes.interface,Q.Proposed.SemanticTokenTypes.struct,Q.Proposed.SemanticTokenTypes.typeParameter,Q.Proposed.SemanticTokenTypes.parameter,Q.Proposed.SemanticTokenTypes.variable,Q.Proposed.SemanticTokenTypes.property,Q.Proposed.SemanticTokenTypes.enumMember,Q.Proposed.SemanticTokenTypes.event,Q.Proposed.SemanticTokenTypes.function,Q.Proposed.SemanticTokenTypes.member,Q.Proposed.SemanticTokenTypes.macro,Q.Proposed.SemanticTokenTypes.keyword,Q.Proposed.SemanticTokenTypes.modifier,Q.Proposed.SemanticTokenTypes.comment,Q.Proposed.SemanticTokenTypes.string,Q.Proposed.SemanticTokenTypes.number,Q.Proposed.SemanticTokenTypes.regexp,Q.Proposed.SemanticTokenTypes.operator],r.tokenModifiers=[Q.Proposed.SemanticTokenModifiers.declaration,Q.Proposed.SemanticTokenModifiers.definition,Q.Proposed.SemanticTokenModifiers.readonly,Q.Proposed.SemanticTokenModifiers.static,Q.Proposed.SemanticTokenModifiers.deprecated,Q.Proposed.SemanticTokenModifiers.abstract,Q.Proposed.SemanticTokenModifiers.async,Q.Proposed.SemanticTokenModifiers.modification,Q.Proposed.SemanticTokenModifiers.documentation,Q.Proposed.SemanticTokenModifiers.defaultLibrary],r.formats=[Of.TokenFormat.Relative],r.requests={range:!0,full:{delta:!0}}}initialize(e,n){let r=e,[i,s]=this.getRegistration(n,r.semanticTokensProvider);!i||!s||this.register(this.messages,{id:i,registerOptions:s})}registerLanguageProvider(e){let n=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,r={provideDocumentSemanticTokens:(f,m)=>{let R=this._client,y=R.clientOptions.middleware,P=(k,G)=>{let K={textDocument:R.code2ProtocolConverter.asTextDocumentIdentifier(k)};return R.sendRequest(Q.Proposed.SemanticTokensRequest.type,K,G).then(X=>Xt.asSemanticTokens(X),X=>R.handleFailedRequest(Q.Proposed.SemanticTokensRequest.type,X,null))};return y.provideDocumentSemanticTokens?y.provideDocumentSemanticTokens(f,m,P):P(f,m)},provideDocumentSemanticTokensEdits:n?(f,m,R)=>{let y=this._client,P=y.clientOptions.middleware,k=(G,K,X)=>{let M={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(G),previousResultId:K};return y.sendRequest(Q.Proposed.SemanticTokensDeltaRequest.type,M,X).then(q=>Q.Proposed.SemanticTokens.is(q)?Xt.asSemanticTokens(q):Xt.asSemanticTokensEdits(q),q=>y.handleFailedRequest(Q.Proposed.SemanticTokensDeltaRequest.type,q,null))};return P.provideDocumentSemanticTokensEdits?P.provideDocumentSemanticTokensEdits(f,m,R,k):k(f,m,R)}:void 0},s=e.range===!0?{provideDocumentRangeSemanticTokens:(f,m,R)=>{let y=this._client,P=y.clientOptions.middleware,k=(G,K,X)=>{let M={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(G),range:y.code2ProtocolConverter.asRange(K)};return y.sendRequest(Q.Proposed.SemanticTokensRangeRequest.type,M,X).then(q=>Xt.asSemanticTokens(q),q=>y.handleFailedRequest(Q.Proposed.SemanticTokensRangeRequest.type,q,null))};return P.provideDocumentRangeSemanticTokens?P.provideDocumentRangeSemanticTokens(f,m,R,k):k(f,m,R)}}:void 0,u=[],p=Xt.asLegend(e.legend);return u.push(hn.languages.registerDocumentSemanticTokensProvider(e.documentSelector,r,p)),s!==void 0&&u.push(hn.languages.registerDocumentRangeSemanticTokensProvider(e.documentSelector,s,p)),[new hn.Disposable(()=>u.forEach(f=>f.dispose())),{document:r,range:s}]}};ro.SemanticTokensFeature=no});var so=L(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});var kf=Ge(),xf=La(),qf=ji(),If=Aa(),Nf=Ma(),Lf=ja(),Ff=Wa(),Af=za(),Mf=Ua(),jf=Ga(),Hf=Ba(),Wf=Va(),io=class extends kf.BaseLanguageClient{constructor(e,n,r){super(e,n,r)}registerProposedFeatures(){this.registerFeatures(Qa.createAll(this))}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new qf.ConfigurationFeature(this)),this.registerFeature(new Nf.TypeDefinitionFeature(this)),this.registerFeature(new If.ImplementationFeature(this)),this.registerFeature(new xf.ColorProviderFeature(this)),this.registerFeature(new Lf.WorkspaceFoldersFeature(this)),this.registerFeature(new Ff.FoldingRangeFeature(this)),this.registerFeature(new Af.DeclarationFeature(this)),this.registerFeature(new Mf.SelectionRangeFeature(this)),this.registerFeature(new jf.ProgressFeature(this)),this.registerFeature(new Hf.CallHierarchyFeature(this))}};kn.CommonLanguageClient=io;var Qa;(function(t){function e(n){return[new Wf.SemanticTokensFeature(n)]}t.createAll=e})(Qa=kn.ProposedFeatures||(kn.ProposedFeatures={}))});var Za=L(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});var Ya=require("child_process"),Kf=require("path"),zf=process.platform==="win32",$f=process.platform==="darwin",Uf=process.platform==="linux";function Gf(t,e){if(zf)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),Ya.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(Uf||$f)try{var n=Kf.join(__dirname,"terminateProcess.sh"),r=Ya.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}oo.terminate=Gf});var ao=L((ip,ec)=>{"use strict";ec.exports=ye()});var tc=L(pr=>{"use strict";function co(t){for(var e in t)pr.hasOwnProperty(e)||(pr[e]=t[e])}Object.defineProperty(pr,"__esModule",{value:!0});co(ye());co(Ge());co(so())});var sc=L(bt=>{"use strict";function ic(t){for(var e in t)bt.hasOwnProperty(e)||(bt[e]=t[e])}Object.defineProperty(bt,"__esModule",{value:!0});var Bt=require("child_process"),Xf=require("fs"),nc=wo(),Dt=require("vscode"),me=Vt(),Bf=so(),Jf=Ge(),Vf=Za(),ge=ao();ic(ao());ic(tc());var rc="^1.46.0",uo;(function(t){function e(n){return me.string(n.command)}t.is=e})(uo||(uo={}));var Ee;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(Ee=bt.TransportKind||(bt.TransportKind={}));var pn;(function(t){function e(n){let r=n;return r&&r.kind===Ee.socket&&me.number(r.port)}t.isSocket=e})(pn||(pn={}));var lo;(function(t){function e(n){return me.string(n.module)}t.is=e})(lo||(lo={}));var fo;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(fo||(fo={}));var ho;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(ho||(ho={}));var po=class extends Bf.CommonLanguageClient{constructor(e,n,r,i,s){let u,p,f,m,R;me.string(n)?(u=e,p=n,f=r,m=i,R=!!s):(u=e.toLowerCase(),p=e,f=n,m=r,R=i),R===void 0&&(R=!1),super(u,p,m),this._serverOptions=f,this._forceDebug=R;try{this.checkVersion()}catch(y){throw me.string(y.message)&&this.outputChannel.appendLine(y.message),y}}checkVersion(){let e=nc.parse(Dt.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Dt.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!nc.satisfies(e,rc))throw new Error(`The language client requires VS Code version ${rc} but received version ${Dt.version}`)}stop(){return super.stop().then(()=>{if(this._serverProcess){let e=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(e),this._isDetached=void 0}})}checkProcessDied(e){!e||setTimeout(()=>{try{process.kill(e.pid,0),Vf.terminate(e)}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(R,y){if(!R&&!y)return;let P=Object.create(null);return Object.keys(process.env).forEach(k=>P[k]=process.env[k]),y&&(P.ELECTRON_RUN_AS_NODE="1",P.ELECTRON_NO_ASAR="1"),R&&Object.keys(R).forEach(k=>P[k]=R[k]),P}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let R=process.execArgv;return R?R.some(y=>r.some(P=>y.startsWith(P))||i.some(P=>y===P)):!1}function u(R){if(R.stdin===null||R.stdout===null||R.stderr===null)throw new Error("Process created without stdio streams")}let p=this._serverOptions;if(me.func(p))return p().then(R=>{if(Jf.MessageTransports.is(R))return this._isDetached=!!R.detached,R;if(fo.is(R))return this._isDetached=!!R.detached,{reader:new ge.StreamMessageReader(R.reader),writer:new ge.StreamMessageWriter(R.writer)};{let y;return ho.is(R)?(y=R.process,this._isDetached=R.detached):(y=R,this._isDetached=!1),y.stderr.on("data",P=>this.outputChannel.append(me.string(P)?P:P.toString(e))),{reader:new ge.StreamMessageReader(y.stdout),writer:new ge.StreamMessageWriter(y.stdin)}}});let f,m=p;return m.run||m.debug?this._forceDebug||s()?f=m.debug:f=m.run:f=p,this._getServerWorkingDir(f.options).then(R=>{if(lo.is(f)&&f.module){let y=f,P=y.transport||Ee.stdio;if(y.runtime){let k=[],G=y.options||Object.create(null);G.execArgv&&G.execArgv.forEach(M=>k.push(M)),k.push(y.module),y.args&&y.args.forEach(M=>k.push(M));let K=Object.create(null);K.cwd=R,K.env=n(G.env,!1);let X;if(P===Ee.ipc?(K.stdio=[null,null,null,"ipc"],k.push("--node-ipc")):P===Ee.stdio?k.push("--stdio"):P===Ee.pipe?(X=ge.generateRandomPipeName(),k.push(`--pipe=${X}`)):pn.isSocket(P)&&k.push(`--socket=${P.port}`),k.push(`--clientProcessId=${process.pid.toString()}`),P===Ee.ipc||P===Ee.stdio){let M=Bt.spawn(y.runtime,k,K);return!M||!M.pid?Promise.reject(`Launching server using runtime ${y.runtime} failed.`):(this._serverProcess=M,M.stderr.on("data",q=>this.outputChannel.append(me.string(q)?q:q.toString(e))),P===Ee.ipc?(M.stdout.on("data",q=>this.outputChannel.append(me.string(q)?q:q.toString(e))),Promise.resolve({reader:new ge.IPCMessageReader(M),writer:new ge.IPCMessageWriter(M)})):Promise.resolve({reader:new ge.StreamMessageReader(M.stdout),writer:new ge.StreamMessageWriter(M.stdin)}))}else{if(P===Ee.pipe)return ge.createClientPipeTransport(X).then(M=>{let q=Bt.spawn(y.runtime,k,K);return!q||!q.pid?Promise.reject(`Launching server using runtime ${y.runtime} failed.`):(this._serverProcess=q,q.stderr.on("data",j=>this.outputChannel.append(me.string(j)?j:j.toString(e))),q.stdout.on("data",j=>this.outputChannel.append(me.string(j)?j:j.toString(e))),M.onConnected().then(j=>({reader:j[0],writer:j[1]})))});if(pn.isSocket(P))return ge.createClientSocketTransport(P.port).then(M=>{let q=Bt.spawn(y.runtime,k,K);return!q||!q.pid?Promise.reject(`Launching server using runtime ${y.runtime} failed.`):(this._serverProcess=q,q.stderr.on("data",j=>this.outputChannel.append(me.string(j)?j:j.toString(e))),q.stdout.on("data",j=>this.outputChannel.append(me.string(j)?j:j.toString(e))),M.onConnected().then(j=>({reader:j[0],writer:j[1]})))})}}else{let k;return new Promise((G,K)=>{let X=y.args&&y.args.slice()||[];P===Ee.ipc?X.push("--node-ipc"):P===Ee.stdio?X.push("--stdio"):P===Ee.pipe?(k=ge.generateRandomPipeName(),X.push(`--pipe=${k}`)):pn.isSocket(P)&&X.push(`--socket=${P.port}`),X.push(`--clientProcessId=${process.pid.toString()}`);let M=y.options||Object.create(null);if(M.env=n(M.env,!0),M.execArgv=M.execArgv||[],M.cwd=R,M.silent=!0,P===Ee.ipc||P===Ee.stdio){let q=Bt.fork(y.module,X||[],M);u(q),this._serverProcess=q,q.stderr.on("data",j=>this.outputChannel.append(me.string(j)?j:j.toString(e))),P===Ee.ipc?(q.stdout.on("data",j=>this.outputChannel.append(me.string(j)?j:j.toString(e))),G({reader:new ge.IPCMessageReader(this._serverProcess),writer:new ge.IPCMessageWriter(this._serverProcess)})):G({reader:new ge.StreamMessageReader(q.stdout),writer:new ge.StreamMessageWriter(q.stdin)})}else P===Ee.pipe?ge.createClientPipeTransport(k).then(q=>{let j=Bt.fork(y.module,X||[],M);u(j),this._serverProcess=j,j.stderr.on("data",z=>this.outputChannel.append(me.string(z)?z:z.toString(e))),j.stdout.on("data",z=>this.outputChannel.append(me.string(z)?z:z.toString(e))),q.onConnected().then(z=>{G({reader:z[0],writer:z[1]})})}):pn.isSocket(P)&&ge.createClientSocketTransport(P.port).then(q=>{let j=Bt.fork(y.module,X||[],M);u(j),this._serverProcess=j,j.stderr.on("data",z=>this.outputChannel.append(me.string(z)?z:z.toString(e))),j.stdout.on("data",z=>this.outputChannel.append(me.string(z)?z:z.toString(e))),q.onConnected().then(z=>{G({reader:z[0],writer:z[1]})})})})}}else if(uo.is(f)&&f.command){let y=f,P=y.args||[],k=Object.assign({},y.options);k.cwd=k.cwd||R;let G=Bt.spawn(y.command,P,k);return!G||!G.pid?Promise.reject(`Launching server using command ${y.command} failed.`):(G.stderr.on("data",K=>this.outputChannel.append(me.string(K)?K:K.toString(e))),this._serverProcess=G,this._isDetached=!!k.detached,Promise.resolve({reader:new ge.StreamMessageReader(G.stdout),writer:new ge.StreamMessageWriter(G.stdin)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(p,null,4)))})}_mainGetRootPath(){let e=Dt.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{Xf.lstat(n,(i,s)=>{r(!i&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};bt.LanguageClient=po;var go=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return Dt.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Dt.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?Dt.workspace.getConfiguration(n).get(r,!1):Dt.workspace.getConfiguration(n);i&&this._client.needsStart()?this._client.start():!i&&this._client.needsStop()&&this._client.stop()}};bt.SettingMonitor=go});var ac=L((ap,oc)=>{"use strict";oc.exports=sc()});var th={};vc(th,{activate:()=>Zf});module.exports=yc(th);var Ot=mr(require("vscode")),uc=require("vscode"),xn=mr(ac()),lc=mr(Bn()),gr=!0,Qf=gr?"dotnet":"PseudoCode.LSP",cc=gr?["/Users/mac/RiderProjects/PseudoCode/PseudoCode.LSP/bin/Debug/net6.0/PseudoCode.LSP.dll"]:[],Yf=gr?"dotnet":"PseudoCode.Cli",dc=gr?["/Users/mac/RiderProjects/PseudoCode/PseudoCode.Cli/bin/Debug/net6.0/PseudoCode.Cli.dll"]:[];dc.push("-S");function Zf(t){console.log("hi");let e=Ot.tasks.registerTaskProvider("pseudocode",{provideTasks:()=>eh(),resolveTask(p){}}),n=Qf,r={run:{command:n,args:cc,transport:xn.TransportKind.pipe},debug:{command:n,args:cc,transport:xn.TransportKind.pipe,runtime:""}},i={documentSelector:[{pattern:"**/*.pseudo"},{pattern:"**/*.p"}],progressOnInitialization:!0,synchronize:{configurationSection:"pseudocode",fileEvents:uc.workspace.createFileSystemWatcher("**/*.pseudo")}},s=new xn.LanguageClient("pseudocode","PseudoCode Language Client",r,i);s.registerProposedFeatures(),s.trace=lc.Trace.Verbose;let u=s.start();t.subscriptions.push(u)}function eh(){let t=Ot.workspace.workspaceFolders,e=[];if(!t||t.length===0)return e;for(let n of t){let r=n.uri.fsPath;if(!r)continue;let i="run",s={type:"pseudocode",task:i},u=new Ot.Task(s,n,i,"PseudoCode",new Ot.ShellExecution(`cd \${fileDirname} && ${Yf} ${dc.join(" ")} "\${file}"`));console.log(r),e.push(u)}return e}0&&(module.exports={activate});
